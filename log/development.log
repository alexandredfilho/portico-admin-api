  [1m[35m (140.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (156.4ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (57.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (4.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-04 20:50:31.090723', '2022-11-04 20:50:31.090726') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/drivers" for ::1 at 2022-11-04 17:50:56 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant DriversController
Did you mean?  DriverController):
  
Started POST "/driver" for ::1 at 2022-11-04 17:51:07 -0300
  
ActionController::RoutingError (No route matches [POST] "/driver"):
  
Started GET "/drivers" for ::1 at 2022-11-04 17:51:16 -0300
  
ActionController::RoutingError (uninitialized constant DriversController
Did you mean?  DriverController):
  
Started GET "/driver" for ::1 at 2022-11-04 17:51:23 -0300
  
ActionController::RoutingError (No route matches [GET] "/driver"):
  
Started GET "/driver" for ::1 at 2022-11-04 17:53:11 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DriverController#index as */*
Completed 204 No Content in 28ms (ActiveRecord: 0.0ms | Allocations: 14523)


Started GET "/driver" for ::1 at 2022-11-04 17:53:42 -0300
Processing by DriverController#index as */*
Completed 204 No Content in 27ms (ActiveRecord: 0.0ms | Allocations: 11011)


Started GET "/driver/index" for ::1 at 2022-11-04 17:53:52 -0300
  
AbstractController::ActionNotFound (The action 'show' could not be found for DriverController):
  
rails (8a67a6d44457) actionpack/lib/abstract_controller/base.rb:151:in `process'
rails (8a67a6d44457) actionpack/lib/action_controller/metal.rb:204:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_controller/metal.rb:267:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:32:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:50:in `block in serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:32:in `each'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:32:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:848:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
rails (8a67a6d44457) activerecord/lib/active_record/migration.rb:617:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:99:in `run_callbacks'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:37:in `call_app'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `block in tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:37:in `tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `tagged'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
rails (8a67a6d44457) activesupport/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:60:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rails (8a67a6d44457) railties/lib/rails/engine.rb:529:in `call'
puma (6.0.0) lib/puma/configuration.rb:268:in `call'
puma (6.0.0) lib/puma/request.rb:89:in `block in handle_request'
puma (6.0.0) lib/puma/thread_pool.rb:343:in `with_force_shutdown'
puma (6.0.0) lib/puma/request.rb:88:in `handle_request'
puma (6.0.0) lib/puma/server.rb:430:in `process_client'
puma (6.0.0) lib/puma/server.rb:233:in `block in run'
puma (6.0.0) lib/puma/thread_pool.rb:150:in `block in spawn_thread'
Started GET "/drivers" for ::1 at 2022-11-04 17:54:01 -0300
  
ActionController::RoutingError (No route matches [GET] "/drivers"):
  
Started GET "/drivers/index" for ::1 at 2022-11-04 17:54:08 -0300
  
ActionController::RoutingError (No route matches [GET] "/drivers/index"):
  
Started GET "/drivers/index" for ::1 at 2022-11-04 17:54:24 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant DriversController
Did you mean?  DriverController):
  
Started GET "/drivers" for ::1 at 2022-11-04 17:54:30 -0300
  
ActionController::RoutingError (uninitialized constant DriversController
Did you mean?  DriverController):
  
Started GET "/driver" for ::1 at 2022-11-04 17:54:32 -0300
  
ActionController::RoutingError (No route matches [GET] "/driver"):
  
Started GET "/drivers" for ::1 at 2022-11-04 17:54:35 -0300
  
ActionController::RoutingError (uninitialized constant DriversController
Did you mean?  DriverController):
  
Started GET "/drivers" for ::1 at 2022-11-04 17:58:20 -0300
  
ActionController::RoutingError (uninitialized constant DriversController
Did you mean?  DriverController):
  
Started GET "/drivers" for ::1 at 2022-11-04 18:07:24 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/drivers"):
  
Started GET "/drivers" for ::1 at 2022-11-04 18:11:28 -0300
  
ActionController::RoutingError (No route matches [GET] "/drivers"):
  
Started GET "/drivers" for ::1 at 2022-11-04 18:11:32 -0300
  
ActionController::RoutingError (No route matches [GET] "/drivers"):
  
Started GET "/drivers" for ::1 at 2022-11-04 18:11:57 -0300
  
ActionController::RoutingError (No route matches [GET] "/drivers"):
  
Started GET "/" for ::1 at 2022-11-04 18:12:06 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.5ms | Allocations: 426)
Completed 200 OK in 98ms (Views: 47.7ms | ActiveRecord: 0.0ms | Allocations: 9845)


Started GET "/drivers" for ::1 at 2022-11-04 18:12:11 -0300
  
ActionController::RoutingError (No route matches [GET] "/drivers"):
  
Started GET "//api/v1/drivers" for ::1 at 2022-11-04 18:12:24 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::DriversController
Did you mean?  Api::V1::DriverController):
  
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:12:27 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::DriversController
Did you mean?  Api::V1::DriverController):
  
Started GET "/api/v1/driver" for ::1 at 2022-11-04 18:12:32 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/driver"):
  
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:12:36 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::DriversController
Did you mean?  Api::V1::DriverController):
  
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:12:48 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::DriversController
Did you mean?  Api::V1::DriverController):
  
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:13:19 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::DriversController
Did you mean?  Api::V1::DriverController):
  
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:13:20 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::DriversController
Did you mean?  Api::V1::DriverController):
  
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:13:21 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::DriversController
Did you mean?  Api::V1::DriverController):
  
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:13:22 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::DriversController
Did you mean?  Api::V1::DriverController):
  
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:13:22 -0300
  
ActionController::RoutingError (uninitialized constant Api::V1::DriversController
Did you mean?  Api::V1::DriverController):
  
Started GET "/api/v1/driver" for ::1 at 2022-11-04 18:13:28 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/driver"):
  
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:14:16 -0300
  [1m[36mActiveRecord::SchemaMigration Load (2.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
NameError (undefined local variable or method `i' for Api::V1::DriversController:Class):
  
app/controllers/api/v1/drivers_controller.rb:4:in `<class:DriversController>'
app/controllers/api/v1/drivers_controller.rb:3:in `<module:V1>'
app/controllers/api/v1/drivers_controller.rb:2:in `<module:Api>'
app/controllers/api/v1/drivers_controller.rb:1:in `<main>'
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:14:47 -0300
  
NameError (undefined local variable or method `i' for Api::V1::DriversController:Class):
  
app/controllers/api/v1/drivers_controller.rb:4:in `<class:DriversController>'
app/controllers/api/v1/drivers_controller.rb:3:in `<module:V1>'
app/controllers/api/v1/drivers_controller.rb:2:in `<module:Api>'
app/controllers/api/v1/drivers_controller.rb:1:in `<main>'
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:17:59 -0300
Processing by Api::V1::DriversController#index as HTML
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.0ms | Allocations: 10112)


  
NoMethodError (undefined method `oder' for Driver:Class
Did you mean?  order):
  
app/controllers/api/v1/drivers_controller.rb:7:in `index'
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:18:09 -0300
Processing by Api::V1::DriversController#index as HTML
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY first_name DESC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:8:in `index'
Completed 200 OK in 11ms (Views: 2.6ms | ActiveRecord: 0.8ms | Allocations: 3502)


Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:18:23 -0300
Processing by Api::V1::DriversController#index as */*
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY first_name DESC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:8:in `index'
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.5ms | Allocations: 1473)


Started POST "/api/v1/drivers" for ::1 at 2022-11-04 18:19:31 -0300
Processing by Api::V1::DriversController#create as */*
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
  [1m[36mDriver Create (3.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", nil], ["last_name", nil], ["document", nil], ["shipping_company", nil], ["created_at", "2022-11-04 21:19:31.751959"], ["updated_at", "2022-11-04 21:19:31.751959"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
Completed 200 OK in 67ms (Views: 0.7ms | ActiveRecord: 17.8ms | Allocations: 20547)


Started POST "/api/v1/drivers" for ::1 at 2022-11-04 18:19:58 -0300
Processing by Api::V1::DriversController#create as */*
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
  [1m[36mDriver Create (2.9ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", nil], ["last_name", nil], ["document", nil], ["shipping_company", nil], ["created_at", "2022-11-04 21:19:58.983934"], ["updated_at", "2022-11-04 21:19:58.983934"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 5.6ms | Allocations: 2094)


Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:20:10 -0300
Processing by Api::V1::DriversController#index as */*
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY first_name DESC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:8:in `index'
Completed 200 OK in 6ms (Views: 4.5ms | ActiveRecord: 0.6ms | Allocations: 996)


Started DELETE "/api/v1/drivers/1" for ::1 at 2022-11-04 18:20:28 -0300
Processing by Api::V1::DriversController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
  [1m[36mDriver Destroy (1.3ms)[0m  [1m[31mDELETE FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
Completed 200 OK in 21ms (Views: 0.4ms | ActiveRecord: 4.7ms | Allocations: 5146)


Started DELETE "/api/v1/drivers/2" for ::1 at 2022-11-04 18:20:33 -0300
Processing by Api::V1::DriversController#destroy as */*
  Parameters: {"id"=>"2"}
  [1m[36mDriver Load (3.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
  [1m[36mDriver Destroy (7.1ms)[0m  [1m[31mDELETE FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
Completed 200 OK in 30ms (Views: 0.9ms | ActiveRecord: 16.4ms | Allocations: 2620)


Started POST "/api/v1/drivers/2" for ::1 at 2022-11-04 18:20:54 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/drivers/2"):
  
Started POST "/api/v1/drivers" for ::1 at 2022-11-04 18:20:59 -0300
Processing by Api::V1::DriversController#create as */*
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
  [1m[36mDriver Create (1.6ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", nil], ["last_name", nil], ["document", nil], ["shipping_company", nil], ["created_at", "2022-11-04 21:20:59.821486"], ["updated_at", "2022-11-04 21:20:59.821486"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 4.5ms | Allocations: 2087)


Started POST "/api/v1/drivers" for ::1 at 2022-11-04 18:21:14 -0300
Processing by Api::V1::DriversController#create as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
[31mUnpermitted parameter: :driver. Context: { controller: Api::V1::DriversController, action: create, request: #<ActionDispatch::Request:0x00007f8d14b53878>, params: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "controller"=>"api/v1/drivers", "action"=>"create", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "bla"], ["last_name", "da silva"], ["document", "123455667"], ["shipping_company", "blaaaa"], ["created_at", "2022-11-04 21:21:14.645290"], ["updated_at", "2022-11-04 21:21:14.645290"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 4.7ms | Allocations: 2331)


Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:21:25 -0300
Processing by Api::V1::DriversController#index as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY first_name DESC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:8:in `index'
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.6ms | Allocations: 957)


Started DELETE "/api/v1/drivers/3" for ::1 at 2022-11-04 18:21:35 -0300
Processing by Api::V1::DriversController#destroy as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "id"=>"3", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
  [1m[36mDriver Destroy (2.6ms)[0m  [1m[31mDELETE FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (8.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
Completed 200 OK in 34ms (Views: 0.6ms | ActiveRecord: 11.7ms | Allocations: 2605)


Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:21:47 -0300
Processing by Api::V1::DriversController#index as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY first_name DESC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.6ms | Allocations: 862)


Started GET "/drivers" for ::1 at 2022-11-04 18:23:08 -0300
  
ActionController::RoutingError (No route matches [GET] "/drivers"):
  
Started GET "/drivers/api/v1/drivers" for ::1 at 2022-11-04 18:23:18 -0300
  
ActionController::RoutingError (No route matches [GET] "/drivers/api/v1/drivers"):
  
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:23:23 -0300
Processing by Api::V1::DriversController#index as */*
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY first_name DESC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.5ms | Allocations: 858)


Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:24:01 -0300
Processing by Api::V1::DriversController#index as */*
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY first_name DESC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:8:in `index'
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.4ms | Allocations: 859)


Started GET "/api/v1/drivers/4" for ::1 at 2022-11-04 18:24:15 -0300
Processing by Api::V1::DriversController#show as */*
  Parameters: {"id"=>"4"}
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:17:in `show'
Completed 200 OK in 18ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 1127)


Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 18:25:32 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
[31mUnpermitted parameters: :id, :driver. Context: { controller: Api::V1::DriversController, action: update, request: #<ActionDispatch::Request:0x00007f8d104193b8>, params: {"first_name"=>"blaaaaaaaa", "controller"=>"api/v1/drivers", "action"=>"update", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}} }[0m
Completed 500 Internal Server Error in 53ms (ActiveRecord: 0.5ms | Allocations: 3648)


  
NoMethodError (undefined method `update_attributes' for #<Driver id: 4, first_name: "bla", last_name: "da silva", document: "123455667", shipping_company: "blaaaa", created_at: "2022-11-04 21:21:14.645290000 +0000", updated_at: "2022-11-04 21:21:14.645290000 +0000">
Did you mean?  update_attribute
               update_attribute!):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PATCH "/api/v1/drivers/4" for ::1 at 2022-11-04 18:25:48 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
[31mUnpermitted parameters: :id, :driver. Context: { controller: Api::V1::DriversController, action: update, request: #<ActionDispatch::Request:0x00007f8d107f7b10>, params: {"first_name"=>"blaaaaaaaa", "controller"=>"api/v1/drivers", "action"=>"update", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}} }[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.5ms | Allocations: 3573)


  
NoMethodError (undefined method `update_attributes' for #<Driver id: 4, first_name: "bla", last_name: "da silva", document: "123455667", shipping_company: "blaaaa", created_at: "2022-11-04 21:21:14.645290000 +0000", updated_at: "2022-11-04 21:21:14.645290000 +0000">
Did you mean?  update_attribute
               update_attribute!):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PATCH "/api/v1/drivers/4" for ::1 at 2022-11-04 18:26:21 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
[31mUnpermitted parameters: :id, :driver. Context: { controller: Api::V1::DriversController, action: update, request: #<ActionDispatch::Request:0x00007f8d10e026e0>, params: {"first_name"=>"blaaaaaaaa", "controller"=>"api/v1/drivers", "action"=>"update", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}} }[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 4.3ms | Allocations: 2990)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 18:26:26 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
[31mUnpermitted parameters: :id, :driver. Context: { controller: Api::V1::DriversController, action: update, request: #<ActionDispatch::Request:0x00007f8d04db9f50>, params: {"first_name"=>"blaaaaaaaa", "controller"=>"api/v1/drivers", "action"=>"update", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}} }[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.4ms | Allocations: 1145)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 18:26:34 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
[31mUnpermitted parameters: :id, :driver. Context: { controller: Api::V1::DriversController, action: update, request: #<ActionDispatch::Request:0x000056478ec66cf0>, params: {"first_name"=>"blaaaaaaaa", "controller"=>"api/v1/drivers", "action"=>"update", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}} }[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 4.2ms | Allocations: 3044)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PATCH "/api/v1/drivers/4" for ::1 at 2022-11-04 18:26:40 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
[31mUnpermitted parameters: :id, :driver. Context: { controller: Api::V1::DriversController, action: update, request: #<ActionDispatch::Request:0x00007f8d149a0be8>, params: {"first_name"=>"blaaaaaaaa", "controller"=>"api/v1/drivers", "action"=>"update", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}} }[0m
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.4ms | Allocations: 1145)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PATCH "/api/v1/drivers/4" for ::1 at 2022-11-04 18:27:01 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
[31mUnpermitted parameter: :driver. Context: { controller: Api::V1::DriversController, action: update, request: #<ActionDispatch::Request:0x00007f8d1008f508>, params: {"first_name"=>"blaaaaaaaa", "controller"=>"api/v1/drivers", "action"=>"update", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}} }[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 3.3ms | Allocations: 2992)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 18:27:06 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
[31mUnpermitted parameter: :driver. Context: { controller: Api::V1::DriversController, action: update, request: #<ActionDispatch::Request:0x00007f8d106f0c08>, params: {"first_name"=>"blaaaaaaaa", "controller"=>"api/v1/drivers", "action"=>"update", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}} }[0m
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.4ms | Allocations: 1150)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started GET "/api/v1/drivers" for ::1 at 2022-11-04 18:27:53 -0300
Processing by Api::V1::DriversController#index as HTML
  [1m[36mDriver Load (1.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY first_name DESC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:8:in `index'
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 1.7ms | Allocations: 945)


Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 18:28:24 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
[31mUnpermitted parameters: :id, :driver. Context: { controller: Api::V1::DriversController, action: update, request: #<ActionDispatch::Request:0x00007f8d10dbfd40>, params: {"first_name"=>"blaaaaaaaa", "controller"=>"api/v1/drivers", "action"=>"update", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}} }[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 3.9ms | Allocations: 2986)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 18:28:39 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
[31mUnpermitted parameters: :id, :driver. Context: { controller: Api::V1::DriversController, action: update, request: #<ActionDispatch::Request:0x00007f8d04b227b0>, params: {"first_name"=>"blaaaaaaaa", "controller"=>"api/v1/drivers", "action"=>"update", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}} }[0m
Completed 500 Internal Server Error in 25ms (ActiveRecord: 3.7ms | Allocations: 5456)


  
NoMethodError (undefined method `update_attributes' for #<Driver id: 4, first_name: "bla", last_name: "da silva", document: "123455667", shipping_company: "blaaaa", created_at: "2022-11-04 21:21:14.645290000 +0000", updated_at: "2022-11-04 21:21:14.645290000 +0000">
Did you mean?  update_attribute
               update_attribute!):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 18:33:21 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
Completed 500 Internal Server Error in 25ms (ActiveRecord: 4.9ms | Allocations: 5426)


  
NoMethodError (undefined method `update_attributes' for #<Driver id: 4, first_name: "bla", last_name: "da silva", document: "123455667", shipping_company: "blaaaa", created_at: "2022-11-04 21:21:14.645290000 +0000", updated_at: "2022-11-04 21:21:14.645290000 +0000">
Did you mean?  update_attribute
               update_attribute!):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 18:33:32 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 4.1ms | Allocations: 2892)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 18:34:42 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.1ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.1ms | Allocations: 5362)


  
NoMethodError (undefined method `update_attributes' for #<Driver id: 4, first_name: "bla", last_name: "da silva", document: "123455667", shipping_company: "blaaaa", created_at: "2022-11-04 21:21:14.645290000 +0000", updated_at: "2022-11-04 21:21:14.645290000 +0000">
Did you mean?  update_attribute
               update_attribute!):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 18:35:44 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
Completed 500 Internal Server Error in 63ms (ActiveRecord: 8.0ms | Allocations: 37931)


  
NoMethodError (undefined method `update_attributes' for #<Driver id: 4, first_name: "bla", last_name: "da silva", document: "123455667", shipping_company: "blaaaa", created_at: "2022-11-04 21:21:14.645290000 +0000", updated_at: "2022-11-04 21:21:14.645290000 +0000">
Did you mean?  update_attribute
               update_attribute!):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 18:36:07 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 3.8ms | Allocations: 2964)


  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 19:27:22 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 5.7ms | Allocations: 5418)


  
NoMethodError (undefined method `update_attributes' for #<Driver id: 4, first_name: "bla", last_name: "da silva", document: "123455667", shipping_company: "blaaaa", created_at: "2022-11-04 21:21:14.645290000 +0000", updated_at: "2022-11-04 21:21:14.645290000 +0000">
Did you mean?  update_attribute
               update_attribute!):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 19:27:44 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
Completed 500 Internal Server Error in 64ms (ActiveRecord: 5.6ms | Allocations: 37874)


  
NoMethodError (undefined method `update_attributes' for #<Driver id: 4, first_name: "bla", last_name: "da silva", document: "123455667", shipping_company: "blaaaa", created_at: "2022-11-04 21:21:14.645290000 +0000", updated_at: "2022-11-04 21:21:14.645290000 +0000">
Did you mean?  update_attribute
               update_attribute!):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PATCH "/api/v1/drivers/4" for ::1 at 2022-11-04 19:27:56 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.5ms | Allocations: 3463)


  
NoMethodError (undefined method `update_attributes' for #<Driver id: 4, first_name: "bla", last_name: "da silva", document: "123455667", shipping_company: "blaaaa", created_at: "2022-11-04 21:21:14.645290000 +0000", updated_at: "2022-11-04 21:21:14.645290000 +0000">
Did you mean?  update_attribute
               update_attribute!):
  
app/controllers/api/v1/drivers_controller.rb:49:in `update'
Started PUT "/api/v1/drivers/4" for ::1 at 2022-11-04 20:16:22 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:47:in `update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:49:in `update'
  [1m[36mDriver Update (2.1ms)[0m  [1m[33mUPDATE "drivers" SET "first_name" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["first_name", "blaaaaaaaa"], ["updated_at", "2022-11-04 23:16:22.836291"], ["id", 4]]
  ↳ app/controllers/api/v1/drivers_controller.rb:49:in `update'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:49:in `update'
Completed 200 OK in 24ms (Views: 0.8ms | ActiveRecord: 18.4ms | Allocations: 5596)


Started DELETE "/api/v1/drivers/4" for ::1 at 2022-11-04 20:17:42 -0300
Processing by Api::V1::DriversController#destroy as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"4", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:81:in `set_driver'
  [1m[36mCACHE Driver Load (0.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:67:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
  [1m[36mDriver Destroy (10.6ms)[0m  [1m[31mDELETE FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:68:in `destroy'
Completed 200 OK in 56ms (Views: 11.1ms | ActiveRecord: 14.3ms | Allocations: 2727)


Started POST "/api/v1/drivers" for ::1 at 2022-11-04 20:19:38 -0300
Processing by Api::V1::DriversController#create as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "bla"], ["last_name", "da silva"], ["document", "123455667"], ["shipping_company", "blaaaa"], ["created_at", "2022-11-04 23:19:38.156935"], ["updated_at", "2022-11-04 23:19:38.156935"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:29:in `create'
Completed 200 OK in 13ms (Views: 0.9ms | ActiveRecord: 10.1ms | Allocations: 4014)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "vehicle_type" character varying, "license_plate" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/vehicles" for ::1 at 2022-11-04 20:28:50 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::VehiclesController#index as */*
Completed 204 No Content in 22ms (ActiveRecord: 0.0ms | Allocations: 13525)


Started GET "/api/v1/drivers" for ::1 at 2022-11-04 20:39:12 -0300
Processing by Api::V1::DriversController#index as */*
  [1m[36mDriver Load (1.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY first_name DESC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:6:in `index'
Completed 200 OK in 84ms (Views: 22.6ms | ActiveRecord: 17.0ms | Allocations: 29235)


Started GET "/api/v1/vehicles" for ::1 at 2022-11-04 20:45:21 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY vehicle_type DESC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:4:in `index'
Completed 200 OK in 20ms (Views: 2.6ms | ActiveRecord: 5.9ms | Allocations: 4347)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (52.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (58.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (155.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (167.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (19.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (4.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-04 23:54:47.679012', '2022-11-04 23:54:47.679024') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "model" character varying, "vehicle_type" character varying, "license_plate" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 20:56:13 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "model"=>"Constelation", "vehicle_type"=>"Truck", "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "model"=>"Constelation", "vehicle_type"=>"Truck", "license_plate"=>"ABC-1234"}}
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.8ms | Allocations: 17683)


  
NameError (undefined local variable or method `vehicle_params' for #<Api::V1::VehiclesController:0x0000000000a0c8>):
  
app/controllers/api/v1/vehicles_controller.rb:23:in `create'
Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 20:56:30 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "model"=>"Constelation", "vehicle_type"=>"Truck", "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "model"=>"Constelation", "vehicle_type"=>"Truck", "license_plate"=>"ABC-1234"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (1.9ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "model", "vehicle_type", "license_plate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["model", "Constelation"], ["vehicle_type", "Truck"], ["license_plate", "ABC-1234"], ["created_at", "2022-11-04 23:56:30.221896"], ["updated_at", "2022-11-04 23:56:30.221896"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 200 OK in 30ms (Views: 0.7ms | ActiveRecord: 8.2ms | Allocations: 18645)


Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-04 20:57:24 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"license_plate"=>"BCA-3214", "id"=>"1", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
Completed 404 Not Found in 25ms (ActiveRecord: 7.9ms | Allocations: 4107)


  
ActiveRecord::RecordNotFound (Couldn't find Driver with 'id'=1):
  
app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
app/controllers/api/v1/vehicles_controller.rb:13:in `show'
Started GET "/api/v1/vehicles" for ::1 at 2022-11-04 20:57:45 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY vehicle_type DESC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:4:in `index'
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.5ms | Allocations: 1049)


Started PUT "/api/v1/vehicles/1" for ::1 at 2022-11-04 20:58:05 -0300
Processing by Api::V1::VehiclesController#update as */*
  Parameters: {"license_plate"=>"BCA-3214", "id"=>"1", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms | Allocations: 584)


  
ActiveRecord::RecordNotFound (Couldn't find Driver with 'id'=1):
  
app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
app/controllers/api/v1/vehicles_controller.rb:43:in `update'
Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-04 20:58:47 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"license_plate"=>"BCA-3214", "id"=>"1", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 570)


  
ActiveRecord::RecordNotFound (Couldn't find Driver with 'id'=1):
  
app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
app/controllers/api/v1/vehicles_controller.rb:13:in `show'
Started GET "/api/v1/vehicles" for ::1 at 2022-11-04 20:58:58 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY vehicle_type DESC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:4:in `index'
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.4ms | Allocations: 851)


Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-04 20:59:15 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"license_plate"=>"BCA-3214", "id"=>"1", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 569)


  
ActiveRecord::RecordNotFound (Couldn't find Driver with 'id'=1):
  
app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
app/controllers/api/v1/vehicles_controller.rb:13:in `show'
Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 20:59:39 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "model"=>"Constelation2", "vehicle_type"=>"Truck2", "license_plate"=>"2ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "model"=>"Constelation2", "vehicle_type"=>"Truck2", "license_plate"=>"2ABC-1234"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (3.5ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "model", "vehicle_type", "license_plate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["model", "Constelation2"], ["vehicle_type", "Truck2"], ["license_plate", "2ABC-1234"], ["created_at", "2022-11-04 23:59:39.943092"], ["updated_at", "2022-11-04 23:59:39.943092"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 200 OK in 13ms (Views: 0.4ms | ActiveRecord: 7.3ms | Allocations: 2145)


Started GET "/api/v1/vehicles" for ::1 at 2022-11-04 20:59:46 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY vehicle_type DESC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:4:in `index'
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.5ms | Allocations: 964)


Started PUT "/api/v1/vehicles/1" for ::1 at 2022-11-04 21:00:01 -0300
Processing by Api::V1::VehiclesController#update as */*
  Parameters: {"license_plate"=>"BCA-3214", "id"=>"1", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
Completed 404 Not Found in 3ms (ActiveRecord: 0.5ms | Allocations: 569)


  
ActiveRecord::RecordNotFound (Couldn't find Driver with 'id'=1):
  
app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
app/controllers/api/v1/vehicles_controller.rb:43:in `update'
Started PUT "/api/v1/vehicles" for ::1 at 2022-11-04 21:00:28 -0300
  
ActionController::RoutingError (No route matches [PUT] "/api/v1/vehicles"):
  
Started GET "/api/v1/vehicles" for ::1 at 2022-11-04 21:00:32 -0300
Processing by Api::V1::VehiclesController#index as */*
  Parameters: {"license_plate"=>"BCA-3214", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY vehicle_type DESC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:4:in `index'
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.5ms | Allocations: 963)


Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-04 21:00:36 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"license_plate"=>"BCA-3214", "id"=>"1", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
Completed 404 Not Found in 2ms (ActiveRecord: 0.3ms | Allocations: 569)


  
ActiveRecord::RecordNotFound (Couldn't find Driver with 'id'=1):
  
app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
app/controllers/api/v1/vehicles_controller.rb:13:in `show'
Started GET "/api/v1/vehicles" for ::1 at 2022-11-04 21:00:40 -0300
Processing by Api::V1::VehiclesController#index as */*
  Parameters: {"license_plate"=>"BCA-3214", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY vehicle_type DESC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:4:in `index'
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.6ms | Allocations: 963)


Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-04 21:01:25 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"license_plate"=>"BCA-3214", "id"=>"1", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
Completed 404 Not Found in 7ms (ActiveRecord: 4.6ms | Allocations: 1565)


  
ActiveRecord::RecordNotFound (Couldn't find Driver with 'id'=1):
  
app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
app/controllers/api/v1/vehicles_controller.rb:13:in `show'
Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-04 21:01:44 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"license_plate"=>"BCA-3214", "id"=>"1", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
Completed 404 Not Found in 9ms (ActiveRecord: 5.4ms | Allocations: 1555)


  
ActiveRecord::RecordNotFound (Couldn't find Driver with 'id'=1):
  
app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
app/controllers/api/v1/vehicles_controller.rb:13:in `show'
Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-04 21:02:01 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"license_plate"=>"BCA-3214", "id"=>"1", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
Completed 200 OK in 9ms (Views: 1.0ms | ActiveRecord: 4.6ms | Allocations: 2619)


Started PUT "/api/v1/vehicles/1" for ::1 at 2022-11-04 21:02:10 -0300
Processing by Api::V1::VehiclesController#update as */*
  Parameters: {"license_plate"=>"BCA-3214", "id"=>"1", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:45:in `update'
  [1m[36mVehicle Update (18.3ms)[0m  [1m[33mUPDATE "vehicles" SET "license_plate" = $1, "updated_at" = $2 WHERE "vehicles"."id" = $3[0m  [["license_plate", "BCA-3214"], ["updated_at", "2022-11-05 00:02:10.640772"], ["id", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:45:in `update'
  [1m[36mTRANSACTION (8.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:45:in `update'
Completed 200 OK in 49ms (Views: 0.8ms | ActiveRecord: 31.7ms | Allocations: 2760)


Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-04 21:02:54 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 695)


Started DELETE "/api/v1/vehicles/1" for ::1 at 2022-11-04 21:03:35 -0300
Processing by Api::V1::VehiclesController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:64:in `destroy'
  [1m[36mVehicle Destroy (11.8ms)[0m  [1m[31mDELETE FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:64:in `destroy'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:64:in `destroy'
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 22.6ms | Allocations: 2171)


Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 21:04:11 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "model"=>"Constelation", "vehicle_type"=>"Truck", "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "model"=>"Constelation", "vehicle_type"=>"Truck", "license_plate"=>"ABC-1234"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (2.8ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "model", "vehicle_type", "license_plate", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["model", "Constelation"], ["vehicle_type", "Truck"], ["license_plate", "ABC-1234"], ["created_at", "2022-11-05 00:04:11.100909"], ["updated_at", "2022-11-05 00:04:11.100909"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 5.5ms | Allocations: 2175)


Started DELETE "/api/v1/vehicles/3" for ::1 at 2022-11-04 21:05:08 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::VehiclesController#destroy as */*
  Parameters: {"id"=>"3"}
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:76:in `set_vehicle_params'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:64:in `destroy'
  [1m[36mVehicle Destroy (1.6ms)[0m  [1m[31mDELETE FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:64:in `destroy'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:64:in `destroy'
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 7.7ms | Allocations: 4945)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (65.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (61.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (178.6ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (212.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (27.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (20.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-05 00:05:24.146179', '2022-11-05 00:05:24.146191') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (21.7ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "model" character varying, "type" character varying, "license_plate" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/vehicles" for ::1 at 2022-11-04 21:05:51 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY vehicle_type DESC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:4:in `index'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.6ms | Allocations: 23076)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "vehicle_type" does not exist
LINE 1: SELECT "vehicles".* FROM "vehicles" ORDER BY vehicle_type DE...
                                                     ^
):
  
Started GET "/api/v1/vehicles" for ::1 at 2022-11-04 21:06:26 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (1.0ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:4:in `index'
Completed 200 OK in 16ms (Views: 12.2ms | ActiveRecord: 1.0ms | Allocations: 1533)


Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 21:06:41 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "model"=>"Constelation", "type"=>"Truck", "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "model"=>"Constelation", "type"=>"Truck", "license_plate"=>"ABC-1234"}}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 3.4ms | Allocations: 258)


  
ActiveRecord::SubclassNotFound (The single-table inheritance mechanism failed to locate the subclass: 'Truck'. This error is raised because the column 'type' is reserved for storing the class in case of inheritance. Please rename this column if you didn't intend it to be used for storing the inheritance class or overwrite Vehicle.inheritance_column to use another column for that information.):
  
app/controllers/api/v1/vehicles_controller.rb:23:in `create'
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (54.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (51.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (155.4ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (165.2ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (21.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-05 00:13:46.637806', '2022-11-05 00:13:46.637816') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'sample'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "sample" AS ENUM ('motorcycle', 'Car', 'Van', 'Truck');
    END IF;
END
$$;
[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "bodywork" character varying, "license_plate" character varying, "sample" sample NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (64.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (115.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (170.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (150.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (31.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-05 00:16:27.651405', '2022-11-05 00:16:27.651413') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (14.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'Car', 'Van', 'Truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 21:16:48 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "bodywork"=>"Truck", "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "license_plate"=>"ABC-1234", "bodywork"=>"Truck"}}
Completed 500 Internal Server Error in 35ms (ActiveRecord: 5.6ms | Allocations: 31148)


  
ArgumentError ('Truck' is not a valid bodywork):
  
app/controllers/api/v1/vehicles_controller.rb:23:in `create'
Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 21:18:02 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "bodywork"=>3, "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "license_plate"=>"ABC-1234", "bodywork"=>3}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 203)


  
ArgumentError ('3' is not a valid bodywork):
  
app/controllers/api/v1/vehicles_controller.rb:23:in `create'
Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 21:19:06 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "bodywork"=>"truck", "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "license_plate"=>"ABC-1234", "bodywork"=>"truck"}}
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (9.0ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Constelation"], ["license_plate", "ABC-1234"], ["bodywork", "truck"], ["created_at", "2022-11-05 00:19:06.508027"], ["updated_at", "2022-11-05 00:19:06.508027"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 10.6ms | Allocations: 2700)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input value for enum bodywork: "truck"
CONTEXT:  unnamed portal parameter $4 = '...'
):
  
Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 21:19:20 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "bodywork"=>"Truck", "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "license_plate"=>"ABC-1234", "bodywork"=>"Truck"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 198)


  
ArgumentError ('Truck' is not a valid bodywork):
  
app/controllers/api/v1/vehicles_controller.rb:23:in `create'
Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 21:20:28 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "bodywork"=>"{{Truck}}", "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "license_plate"=>"ABC-1234", "bodywork"=>"{{Truck}}"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 198)


  
ArgumentError ('{{Truck}}' is not a valid bodywork):
  
app/controllers/api/v1/vehicles_controller.rb:23:in `create'
Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 21:20:34 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "bodywork"=>"{{truck}}", "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "license_plate"=>"ABC-1234", "bodywork"=>"{{truck}}"}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 192)


  
ArgumentError ('{{truck}}' is not a valid bodywork):
  
app/controllers/api/v1/vehicles_controller.rb:23:in `create'
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (53.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (58.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (155.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (169.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-05 00:21:59.542336', '2022-11-05 00:21:59.542344') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 21:22:10 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "bodywork"=>"{{truck}}", "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "license_plate"=>"ABC-1234", "bodywork"=>"{{truck}}"}}
Completed 500 Internal Server Error in 49ms (ActiveRecord: 6.6ms | Allocations: 31148)


  
ArgumentError ('{{truck}}' is not a valid bodywork):
  
app/controllers/api/v1/vehicles_controller.rb:23:in `create'
Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 21:22:17 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "bodywork"=>"truck", "license_plate"=>"ABC-1234", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Constelation", "license_plate"=>"ABC-1234", "bodywork"=>"truck"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (2.8ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Constelation"], ["license_plate", "ABC-1234"], ["bodywork", "truck"], ["created_at", "2022-11-05 00:22:17.436457"], ["updated_at", "2022-11-05 00:22:17.436457"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 5.6ms | Allocations: 2878)


Started POST "/api/v1/vehicles" for ::1 at 2022-11-04 21:22:57 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "bodywork"=>"van", "license_plate"=>"BBC-4532", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "license_plate"=>"BBC-4532", "bodywork"=>"van"}}
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (5.0ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Kombi"], ["license_plate", "BBC-4532"], ["bodywork", "van"], ["created_at", "2022-11-05 00:22:57.989386"], ["updated_at", "2022-11-05 00:22:57.989386"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 200 OK in 14ms (Views: 0.5ms | ActiveRecord: 10.2ms | Allocations: 2163)


Started GET "/api/v1/vehicles" for ::1 at 2022-11-04 21:23:20 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:4:in `index'
Completed 200 OK in 8ms (Views: 2.2ms | ActiveRecord: 0.9ms | Allocations: 3014)


  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY "vehicles"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY "vehicles"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mVehicle Load (1.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY "vehicles"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mVehicle Load (1.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."bodywork" = $1 /* loading for pp */ LIMIT $2[0m  [["bodywork", "truck"], ["LIMIT", 11]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/customers" for ::1 at 2022-11-04 21:45:36 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CustomersController#index as */*
Completed 500 Internal Server Error in 43ms (ActiveRecord: 0.0ms | Allocations: 24921)


  
NoMethodError (undefined method `oder' for Customer:Class
Did you mean?  order):
  
app/controllers/api/v1/customers_controller.rb:3:in `index'
Started GET "/api/v1/customers" for ::1 at 2022-11-04 21:46:02 -0300
Processing by Api::V1::CustomersController#index as */*
Completed 204 No Content in 8ms (ActiveRecord: 0.0ms | Allocations: 3344)


Started GET "/api/v1/customers" for ::1 at 2022-11-04 21:46:48 -0300
Processing by Api::V1::CustomersController#index as */*
  [1m[36mCustomer Load (0.7ms)[0m  [1m[34mSELECT "customers".* FROM "customers" ORDER BY description ASC[0m
  ↳ app/controllers/api/v1/customers_controller.rb:4:in `index'
Completed 200 OK in 6ms (Views: 1.8ms | ActiveRecord: 0.7ms | Allocations: 2479)


Started POST "/api/v1/customers" for ::1 at 2022-11-04 21:49:06 -0300
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"description"=>"First customer", "customer"=>{"description"=>"First customer"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:25:in `create'
  [1m[36mCustomer Create (2.2ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "First customer"], ["status", "active"], ["created_at", "2022-11-05 00:49:06.656236"], ["updated_at", "2022-11-05 00:49:06.656236"]]
  ↳ app/controllers/api/v1/customers_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:25:in `create'
Completed 200 OK in 36ms (Views: 1.0ms | ActiveRecord: 10.1ms | Allocations: 18352)


Started PUT "/api/v1/customers/1" for ::1 at 2022-11-04 21:49:44 -0300
Processing by Api::V1::CustomersController#update as */*
  Parameters: {"status"=>"inactive", "id"=>"1", "customer"=>{"status"=>"inactive"}}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:76:in `set_customer_params'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:45:in `update'
  [1m[36mCustomer Update (1.6ms)[0m  [1m[33mUPDATE "customers" SET "status" = $1, "updated_at" = $2 WHERE "customers"."id" = $3[0m  [["status", "inactive"], ["updated_at", "2022-11-05 00:49:44.924664"], ["id", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:45:in `update'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:45:in `update'
Completed 200 OK in 29ms (Views: 0.9ms | ActiveRecord: 5.2ms | Allocations: 4893)


Started PUT "/api/v1/customers/1" for ::1 at 2022-11-04 21:50:00 -0300
Processing by Api::V1::CustomersController#update as */*
  Parameters: {"status"=>"inactive", "id"=>"1", "customer"=>{"status"=>"inactive"}}
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:76:in `set_customer_params'
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 846)


Started POST "/api/v1/customers" for ::1 at 2022-11-04 21:50:35 -0300
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"description"=>"New customer", "customer"=>{"description"=>"New customer"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:25:in `create'
  [1m[36mCustomer Create (1.6ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "New customer"], ["status", "active"], ["created_at", "2022-11-05 00:50:35.526835"], ["updated_at", "2022-11-05 00:50:35.526835"]]
  ↳ app/controllers/api/v1/customers_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:25:in `create'
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 4.3ms | Allocations: 2084)


Started DELETE "/api/v1/customers/1" for ::1 at 2022-11-04 21:51:05 -0300
Processing by Api::V1::CustomersController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:76:in `set_customer_params'
  [1m[36mTRANSACTION (5.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:64:in `destroy'
  [1m[36mCustomer Destroy (12.4ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:64:in `destroy'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:64:in `destroy'
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 20.6ms | Allocations: 2164)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('in_progress', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "kind" kind NOT NULL, "status" status DEFAULT 'in_progress', "invoice_number" character varying, "cargo_checker" character varying, "warehouse" warehouse NOT NULL, "dock" character varying, "date" date, "hour" time, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('in_progress', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "kind" kind NOT NULL, "status" status DEFAULT 'in_progress', "invoice_number" character varying, "cargo_checker" character varying, "warehouse" warehouse NOT NULL, "dock" character varying, "date" date, "hour" time, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
Started GET "/api/v1/drivers" for ::1 at 2022-11-06 21:34:24 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

20221105005349_create_shippings.rb


):
  
rails (8a67a6d44457) activerecord/lib/active_record/migration.rb:684:in `check_pending_migrations'
rails (8a67a6d44457) activerecord/lib/active_record/migration.rb:606:in `block (2 levels) in call'
rails (8a67a6d44457) activesupport/lib/active_support/file_update_checker.rb:83:in `execute'
rails (8a67a6d44457) activerecord/lib/active_record/migration.rb:611:in `block in call'
rails (8a67a6d44457) activerecord/lib/active_record/migration.rb:603:in `synchronize'
rails (8a67a6d44457) activerecord/lib/active_record/migration.rb:603:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:99:in `run_callbacks'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:37:in `call_app'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `block in tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:37:in `tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `tagged'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
rails (8a67a6d44457) activesupport/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:60:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rails (8a67a6d44457) railties/lib/rails/engine.rb:529:in `call'
puma (6.0.0) lib/puma/configuration.rb:268:in `call'
puma (6.0.0) lib/puma/request.rb:89:in `block in handle_request'
puma (6.0.0) lib/puma/thread_pool.rb:343:in `with_force_shutdown'
puma (6.0.0) lib/puma/request.rb:88:in `handle_request'
puma (6.0.0) lib/puma/server.rb:430:in `process_client'
puma (6.0.0) lib/puma/server.rb:233:in `block in run'
puma (6.0.0) lib/puma/thread_pool.rb:150:in `block in spawn_thread'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('in_progress', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "kind" kind NOT NULL, "status" status DEFAULT 'in_progress', "invoice_number" character varying, "cargo_checker" character varying, "warehouse" warehouse NOT NULL, "dock" character varying, "date" date, "hour" time, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (61.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (43.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (159.4ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (160.6ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (19.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 00:34:51.816322', '2022-11-07 00:34:51.816333') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (21.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('in_progress', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "kind" kind NOT NULL, "status" status DEFAULT 'in_progress', "invoice_number" character varying, "cargo_checker" character varying, "warehouse" warehouse NOT NULL, "dock" character varying, "date" date, "hour" time, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (65.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (57.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (152.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (159.4ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 00:39:46.450885', '2022-11-07 00:39:46.450895') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('in_progress', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status DEFAULT 'in_progress', "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (57.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (59.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (161.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (164.8ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 00:52:49.660208', '2022-11-07 00:52:49.660218') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('in_progress', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status DEFAULT 'in_progress', "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (59.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (77.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (150.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (154.0ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 00:53:37.102237', '2022-11-07 00:53:37.102243') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.3ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('in_progress', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status DEFAULT 'in_progress', "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (61.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (59.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (170.2ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (166.6ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 00:54:29.308006', '2022-11-07 00:54:29.308010') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (11.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('in_progress', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status DEFAULT 'in_progress', "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (63.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (60.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (161.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (166.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 00:55:07.878274', '2022-11-07 00:55:07.878278') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('in_progress', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status DEFAULT 'in progress', "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (34.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (64.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (160.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (166.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 01:01:04.808529', '2022-11-07 01:01:04.808539') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status DEFAULT 'processing', "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (67.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (59.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (156.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (157.0ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (19.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 01:02:14.326296', '2022-11-07 01:02:14.326304') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status DEFAULT 'processing', "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (60.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (46.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (159.8ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (161.0ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (20.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (52.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (5.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 01:04:53.581706', '2022-11-07 01:04:53.581727') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status DEFAULT 'processing' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (66.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (80.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (186.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (182.6ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 01:06:08.654523', '2022-11-07 01:06:08.654527') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShippings (20221105005349)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE INDEX "index_shipping_on_driver_id" ON "shipping" ("driver_id")[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_shipping_on_vehicle_id" ON "shipping" ("vehicle_id")[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_shipping_on_customer_id" ON "shipping" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/drivers" for ::1 at 2022-11-06 22:06:40 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/alexandre/workspace/personal_projects/portico-admin-api/app/controllers/api/v1/drivers_controller.rb:16: syntax error, unexpected symbol literal, expecting '('
    render json: ::Api::V1:DriverAdapter.new(@driver).as...
                          ^
):
  
app/controllers/api/v1/drivers_controller.rb:16: syntax error, unexpected symbol literal, expecting '('
Started GET "/api/v1/drivers" for ::1 at 2022-11-06 22:07:59 -0300
  
SyntaxError (/home/alexandre/workspace/personal_projects/portico-admin-api/app/controllers/api/v1/drivers_controller.rb:16: syntax error, unexpected symbol literal, expecting '('
    render json: ::Api::V1:DriverAdapter.new(@driver).as...
                          ^
):
  
app/controllers/api/v1/drivers_controller.rb:16: syntax error, unexpected symbol literal, expecting '('
Started GET "/api/v1/drivers" for ::1 at 2022-11-06 22:11:34 -0300
Processing by Api::V1::DriversController#index as */*
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."first_name", "drivers"."last_name", "drivers"."document", "drivers"."shipping_company" FROM "drivers" ORDER BY "drivers"."first_name" ASC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:12:in `index'
Completed 200 OK in 34ms (Views: 1.8ms | ActiveRecord: 3.0ms | Allocations: 23715)


Started GET "/api/v1/drivers" for ::1 at 2022-11-06 22:21:32 -0300
Processing by Api::V1::DriversController#index as */*
  [1m[36mDriver Load (0.9ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."first_name", "drivers"."last_name", "drivers"."document", "drivers"."shipping_company" FROM "drivers" ORDER BY "drivers"."first_name" ASC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:14:in `index'
Completed 200 OK in 22ms (Views: 2.9ms | ActiveRecord: 5.3ms | Allocations: 4633)


Started POST "/api/v1/drivers" for ::1 at 2022-11-06 22:21:39 -0300
Processing by Api::V1::DriversController#create as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:23:in `create'
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "bla"], ["last_name", "da silva"], ["document", "123455667"], ["shipping_company", "blaaaa"], ["created_at", "2022-11-07 01:21:39.973092"], ["updated_at", "2022-11-07 01:21:39.973092"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:23:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:23:in `create'
Completed 201 Created in 24ms (Views: 0.5ms | ActiveRecord: 8.1ms | Allocations: 18430)


Started GET "/api/v1/drivers/1" for ::1 at 2022-11-06 22:21:53 -0300
Processing by Api::V1::DriversController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:40:in `set_driver'
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.8ms | Allocations: 3020)


  
NameError (uninitialized constant Adapters):
  
app/controllers/api/v1/drivers_controller.rb:18:in `show'
Started GET "/api/v1/drivers/1" for ::1 at 2022-11-06 22:30:51 -0300
Processing by Api::V1::DriversController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:40:in `set_driver'
Completed 500 Internal Server Error in 20ms (ActiveRecord: 5.2ms | Allocations: 7575)


  
NameError (uninitialized constant Adapters):
  
app/controllers/api/v1/drivers_controller.rb:18:in `show'
Started GET "/api/v1/drivers/1" for ::1 at 2022-11-06 22:33:08 -0300
Processing by Api::V1::DriversController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:40:in `set_driver'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms | Allocations: 2065)


  
NameError (uninitialized constant Adapters):
  
app/controllers/api/v1/drivers_controller.rb:18:in `show'
Started GET "/api/v1/drivers/1" for ::1 at 2022-11-06 22:33:28 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DriversController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:40:in `set_driver'
Completed 500 Internal Server Error in 54ms (ActiveRecord: 6.2ms | Allocations: 41657)


  
NameError (uninitialized constant Adapters):
  
app/controllers/api/v1/drivers_controller.rb:18:in `show'
Started GET "/api/v1/drivers/1" for ::1 at 2022-11-06 22:33:38 -0300
Processing by Api::V1::DriversController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:40:in `set_driver'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 3.8ms | Allocations: 5232)


  
NameError (uninitialized constant Api::V1::ApplicationAdapter
Did you mean?  ApplicationMailer
               ApplicationCable):
  
app/adapters/api/v1/driver_adapter.rb:3:in `<module:V1>'
app/adapters/api/v1/driver_adapter.rb:2:in `<module:Api>'
app/adapters/api/v1/driver_adapter.rb:1:in `<main>'
app/controllers/api/v1/drivers_controller.rb:18:in `show'
Started GET "/api/v1/drivers/1" for ::1 at 2022-11-06 22:35:02 -0300
Processing by Api::V1::DriversController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:42:in `set_driver'
Completed 200 OK in 12ms (Views: 0.8ms | ActiveRecord: 3.0ms | Allocations: 3852)


Started PUT "/api/v1/drivers/1" for ::1 at 2022-11-06 22:42:50 -0300
Processing by Api::V1::DriversController#update as */*
  Parameters: {"first_name"=>"blaaaaaaaa", "id"=>"1", "driver"=>{"first_name"=>"blaaaaaaaa"}}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:42:in `set_driver'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:31:in `update'
  [1m[36mDriver Update (1.5ms)[0m  [1m[33mUPDATE "drivers" SET "first_name" = $1, "updated_at" = $2 WHERE "drivers"."id" = $3[0m  [["first_name", "blaaaaaaaa"], ["updated_at", "2022-11-07 01:42:50.238206"], ["id", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:31:in `update'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:31:in `update'
Completed 200 OK in 14ms (Views: 0.4ms | ActiveRecord: 9.5ms | Allocations: 5020)


Started GET "/api/v1/vehicles" for ::1 at 2022-11-06 22:43:12 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (1.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" ORDER BY created_at DESC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:4:in `index'
Completed 200 OK in 12ms (Views: 2.8ms | ActiveRecord: 1.3ms | Allocations: 2926)


Started GET "/api/v1/vehicles" for ::1 at 2022-11-06 22:44:27 -0300
Processing by Api::V1::VehiclesController#index as */*
Completed 204 No Content in 8ms (ActiveRecord: 2.5ms | Allocations: 2776)


Started GET "/api/v1/vehicles" for ::1 at 2022-11-06 22:44:59 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" ORDER BY "vehicles"."manufacturer" ASC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:12:in `index'
Completed 200 OK in 8ms (Views: 1.3ms | ActiveRecord: 1.4ms | Allocations: 3421)


Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-07 09:18:23 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms (Allocations: 786)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/adapters/api/v1/vehicle_adapter.rb:10:in `as_json'
app/controllers/api/v1/vehicles_controller.rb:16:in `show'
Started POST "/api/v1/vehicles" for ::1 at 2022-11-07 09:24:13 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "bodywork"=>"van", "license_plate"=>"BBC-4532", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "license_plate"=>"BBC-4532", "bodywork"=>"van"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:22:in `create'
  [1m[36mVehicle Create (2.0ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Kombi"], ["license_plate", "BBC-4532"], ["bodywork", "van"], ["created_at", "2022-11-07 12:24:13.937793"], ["updated_at", "2022-11-07 12:24:13.937793"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:22:in `create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:22:in `create'
Completed 200 OK in 27ms (Views: 0.4ms | ActiveRecord: 13.3ms | Allocations: 16489)


Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-07 09:24:29 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 577)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/adapters/api/v1/vehicle_adapter.rb:10:in `as_json'
app/controllers/api/v1/vehicles_controller.rb:16:in `show'
Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-07 09:25:31 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 722)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/adapters/api/v1/vehicle_adapter.rb:10:in `as_json'
app/controllers/api/v1/vehicles_controller.rb:16:in `show'
Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-07 09:25:54 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"id"=>"1"}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 14225)


  
NoMethodError (undefined method `id' for nil:NilClass):
  
app/adapters/api/v1/vehicle_adapter.rb:10:in `as_json'
app/controllers/api/v1/vehicles_controller.rb:16:in `show'
Started GET "/api/v1/vehicles/1" for ::1 at 2022-11-07 09:28:23 -0300
Processing by Api::V1::VehiclesController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:40:in `set_vehicle'
Completed 200 OK in 45ms (Views: 0.8ms | ActiveRecord: 6.0ms | Allocations: 28781)


Started PUT "/api/v1/vehicles/1" for ::1 at 2022-11-07 09:28:33 -0300
Processing by Api::V1::VehiclesController#update as */*
  Parameters: {"license_plate"=>"BCA-3214", "id"=>"1", "vehicle"=>{"license_plate"=>"BCA-3214"}}
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:40:in `set_vehicle'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:29:in `update'
  [1m[36mVehicle Update (1.9ms)[0m  [1m[33mUPDATE "vehicles" SET "license_plate" = $1, "updated_at" = $2 WHERE "vehicles"."id" = $3[0m  [["license_plate", "BCA-3214"], ["updated_at", "2022-11-07 12:28:33.968838"], ["id", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:29:in `update'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:29:in `update'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 5.0ms | Allocations: 3084)


Started GET "/api/v1/vehicles" for ::1 at 2022-11-07 09:28:38 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" ORDER BY "vehicles"."manufacturer" ASC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.5ms | Allocations: 892)


Started DELETE "/api/v1/vehicles/1" for ::1 at 2022-11-07 09:28:46 -0300
Processing by Api::V1::VehiclesController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:40:in `set_vehicle'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:34:in `destroy'
  [1m[36mVehicle Destroy (3.0ms)[0m  [1m[31mDELETE FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:34:in `destroy'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:34:in `destroy'
Completed 204 No Content in 11ms (ActiveRecord: 6.3ms | Allocations: 2137)


Started GET "/api/v1/vehicles" for ::1 at 2022-11-07 09:28:53 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" ORDER BY "vehicles"."manufacturer" ASC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:14:in `index'
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.6ms | Allocations: 715)


Started POST "/api/v1/vehicles" for ::1 at 2022-11-07 09:28:58 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "bodywork"=>"van", "license_plate"=>"BBC-4532", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "license_plate"=>"BBC-4532", "bodywork"=>"van"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:23:in `create'
  [1m[36mVehicle Create (1.7ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Kombi"], ["license_plate", "BBC-4532"], ["bodywork", "van"], ["created_at", "2022-11-07 12:28:58.641289"], ["updated_at", "2022-11-07 12:28:58.641289"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:23:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:23:in `create'
Completed 201 Created in 8ms (Views: 0.3ms | ActiveRecord: 4.7ms | Allocations: 2260)


Started GET "/api/v1/vehicles" for ::1 at 2022-11-07 09:29:03 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" ORDER BY "vehicles"."manufacturer" ASC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:14:in `index'
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.4ms | Allocations: 779)


Started GET "/api/v1/customers" for ::1 at 2022-11-07 09:35:48 -0300
Processing by Api::V1::CustomersController#index as */*
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description" FROM "customers"[0m
  ↳ app/controllers/api/v1/customers_controller.rb:7:in `index'
Completed 200 OK in 18ms (Views: 14.9ms | ActiveRecord: 6.8ms | Allocations: 5688)


Started POST "/api/v1/customers" for ::1 at 2022-11-07 09:35:56 -0300
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"description"=>"New customer", "customer"=>{"description"=>"New customer"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:16:in `create'
  [1m[36mCustomer Create (2.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "New customer"], ["status", "active"], ["created_at", "2022-11-07 12:35:56.422614"], ["updated_at", "2022-11-07 12:35:56.422614"]]
  ↳ app/controllers/api/v1/customers_controller.rb:16:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:16:in `create'
Completed 201 Created in 21ms (Views: 0.3ms | ActiveRecord: 7.8ms | Allocations: 15369)


Started GET "/api/v1/customers" for ::1 at 2022-11-07 09:36:02 -0300
Processing by Api::V1::CustomersController#index as */*
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description" FROM "customers"[0m
  ↳ app/controllers/api/v1/customers_controller.rb:7:in `index'
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.6ms | Allocations: 736)


Started PUT "/api/v1/customers/1" for ::1 at 2022-11-07 09:36:09 -0300
Processing by Api::V1::CustomersController#update as */*
  Parameters: {"status"=>"inactive", "id"=>"1", "customer"=>{"status"=>"inactive"}}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:33:in `set_customer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:22:in `update'
  [1m[36mCustomer Update (1.5ms)[0m  [1m[33mUPDATE "customers" SET "status" = $1, "updated_at" = $2 WHERE "customers"."id" = $3[0m  [["status", "inactive"], ["updated_at", "2022-11-07 12:36:09.437752"], ["id", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:22:in `update'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:22:in `update'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 5.0ms | Allocations: 2730)


Started GET "/api/v1/customers" for ::1 at 2022-11-07 09:36:49 -0300
Processing by Api::V1::CustomersController#index as */*
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers"[0m
  ↳ app/controllers/api/v1/customers_controller.rb:7:in `index'
Completed 200 OK in 11ms (Views: 4.5ms | ActiveRecord: 3.5ms | Allocations: 3838)


Started GET "/api/v1/customers/1" for ::1 at 2022-11-07 09:37:03 -0300
Processing by Api::V1::CustomersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:33:in `set_customer'
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms | Allocations: 924)


Started GET "/api/v1/customers/1" for ::1 at 2022-11-07 09:37:40 -0300
Processing by Api::V1::CustomersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:33:in `set_customer'
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 650)


Started DELETE "/api/v1/customers/1" for ::1 at 2022-11-07 09:37:48 -0300
Processing by Api::V1::CustomersController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:33:in `set_customer'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:27:in `destroy'
  [1m[36mCustomer Destroy (2.9ms)[0m  [1m[31mDELETE FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:27:in `destroy'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:27:in `destroy'
Completed 204 No Content in 14ms (ActiveRecord: 7.7ms | Allocations: 2077)


Started GET "/api/v1/shipments" for ::1 at 2022-11-07 11:33:40 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#index as */*
Completed 500 Internal Server Error in 68ms (ActiveRecord: 2.2ms | Allocations: 29029)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "shippings" does not exist
LINE 9:  WHERE a.attrelid = '"shippings"'::regclass
                            ^
):
  
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (56.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (44.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (168.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (173.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (20.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 14:34:51.953829', '2022-11-07 14:34:51.953846') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.2ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('hightech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_shipping_on_driver_id" ON "shipping" ("driver_id")[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_shipping_on_vehicle_id" ON "shipping" ("vehicle_id")[0m
  [1m[35m (32.0ms)[0m  [1m[35mCREATE INDEX "index_shipping_on_customer_id" ON "shipping" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (46.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (62.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (165.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (157.8ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 14:36:36.773256', '2022-11-07 14:36:36.773261') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "shipping" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_443d7af2a0"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_f5b5876309"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_b5b1fd6ac9"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_shipping_on_driver_id" ON "shipping" ("driver_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_shipping_on_vehicle_id" ON "shipping" ("vehicle_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_shipping_on_customer_id" ON "shipping" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 11:36:53 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#index as */*
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.8ms | Allocations: 28769)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "shippings" does not exist
LINE 9:  WHERE a.attrelid = '"shippings"'::regclass
                            ^
):
  
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (59.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (58.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (156.6ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (151.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (18.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 14:39:09.315943', '2022-11-07 14:39:09.315950') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "shipment" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_487577a174"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_ac82db93f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_592406c9a1"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_shipment_on_driver_id" ON "shipment" ("driver_id")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_shipment_on_vehicle_id" ON "shipment" ("vehicle_id")[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_shipment_on_customer_id" ON "shipment" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 11:39:23 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#index as */*
Completed 500 Internal Server Error in 39ms (ActiveRecord: 0.8ms | Allocations: 28766)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "shipments" does not exist
LINE 9:  WHERE a.attrelid = '"shipments"'::regclass
                            ^
):
  
Started GET "/api/v1/shipment" for ::1 at 2022-11-07 11:39:29 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/v1/shipment"):
  
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 11:39:33 -0300
Processing by Api::V1::ShipmentsController#index as */*
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.6ms | Allocations: 217)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "shipments" does not exist
LINE 9:  WHERE a.attrelid = '"shipments"'::regclass
                            ^
):
  
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 11:41:18 -0300
Processing by Api::V1::ShipmentsController#index as */*
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.7ms | Allocations: 6041)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "shipments" does not exist
LINE 9:  WHERE a.attrelid = '"shipments"'::regclass
                            ^
):
  
Started GET "/rails/info/routes" for ::1 at 2022-11-07 11:42:12 -0300
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb
  Rendering /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_route.html.erb [47 times] (Duration: 15.1ms | Allocations: 7328)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 3.0ms | Allocations: 1304)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 23.1ms | Allocations: 12832)
  Rendered layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb (Duration: 24.4ms | Allocations: 13180)
Completed 200 OK in 45ms (Views: 30.6ms | ActiveRecord: 0.0ms | Allocations: 20242)


Started GET "/favicon.ico" for ::1 at 2022-11-07 11:42:12 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/rails/info/routes?path=shpi" for ::1 at 2022-11-07 11:42:16 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"shpi"}
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 2283)


Started GET "/rails/info/routes?path=ship" for ::1 at 2022-11-07 11:42:18 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"ship"}
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 989)


Started GET "/rails/info/routes?path=shipment" for ::1 at 2022-11-07 11:42:19 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"shipment"}
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 987)


Started GET "/api/v1/shipments" for ::1 at 2022-11-07 11:42:43 -0300
Processing by Api::V1::ShipmentsController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.8ms | Allocations: 210)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "shipments" does not exist
LINE 9:  WHERE a.attrelid = '"shipments"'::regclass
                            ^
):
  
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (36.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (47.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (166.4ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (154.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (18.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 15:04:29.958468', '2022-11-07 15:04:29.958479') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "shipment" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_487577a174"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_ac82db93f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_592406c9a1"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipment_on_driver_id" ON "shipment" ("driver_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_shipment_on_vehicle_id" ON "shipment" ("vehicle_id")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_shipment_on_customer_id" ON "shipment" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 12:04:56 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#index as */*
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.7ms | Allocations: 28725)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "shipments" does not exist
LINE 9:  WHERE a.attrelid = '"shipments"'::regclass
                            ^
):
  
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 12:26:40 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#index as */*
Completed 500 Internal Server Error in 37ms (ActiveRecord: 0.9ms | Allocations: 28725)


  
ActiveRecord::StatementInvalid (PG::UndefinedTable: ERROR:  relation "shipments" does not exist
LINE 9:  WHERE a.attrelid = '"shipments"'::regclass
                            ^
):
  
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (38.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (47.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (147.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (147.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 15:29:22.569968', '2022-11-07 15:29:22.569974') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (14.6ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "date" date, "hour" time, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 12:29:29 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (1.0ms)[0m  [1m[34mSELECT "shipments"."id" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:11:in `index'
Completed 200 OK in 48ms (Views: 5.3ms | ActiveRecord: 3.6ms | Allocations: 32190)


Started GET "/api/v1/vehicles" for ::1 at 2022-11-07 12:29:43 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.8ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" ORDER BY "vehicles"."manufacturer" ASC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:16:in `index'
Completed 200 OK in 32ms (Views: 2.8ms | ActiveRecord: 2.9ms | Allocations: 5594)


Started POST "/api/v1/vehicles" for ::1 at 2022-11-07 12:29:49 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "bodywork"=>"van", "license_plate"=>"BBC-4532", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "license_plate"=>"BBC-4532", "bodywork"=>"van"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (1.6ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Kombi"], ["license_plate", "BBC-4532"], ["bodywork", "van"], ["created_at", "2022-11-07 15:29:49.127155"], ["updated_at", "2022-11-07 15:29:49.127155"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 201 Created in 31ms (Views: 0.4ms | ActiveRecord: 7.9ms | Allocations: 18113)


Started POST "/api/v1/drivers" for ::1 at 2022-11-07 12:29:59 -0300
Processing by Api::V1::DriversController#create as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mDriver Create (2.9ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "bla"], ["last_name", "da silva"], ["document", "123455667"], ["shipping_company", "blaaaa"], ["created_at", "2022-11-07 15:29:59.780172"], ["updated_at", "2022-11-07 15:29:59.780172"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
Completed 201 Created in 31ms (Views: 1.6ms | ActiveRecord: 8.7ms | Allocations: 16573)


Started POST "/api/v1/customers" for ::1 at 2022-11-07 12:30:10 -0300
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"description"=>"New customer", "customer"=>{"description"=>"New customer"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mCustomer Create (3.9ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "New customer"], ["status", "active"], ["created_at", "2022-11-07 15:30:10.716373"], ["updated_at", "2022-11-07 15:30:10.716373"]]
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
Completed 201 Created in 34ms (Views: 0.5ms | ActiveRecord: 12.1ms | Allocations: 15572)


Started GET "/api/v1/shipments" for ::1 at 2022-11-07 12:30:48 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (0.5ms)[0m  [1m[34mSELECT "shipments"."id" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:11:in `index'
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.5ms | Allocations: 790)


Started GET "/api/v1/shipments" for ::1 at 2022-11-07 12:33:04 -0300
Processing by Api::V1::ShipmentsController#index as HTML
  [1m[36mShipment Load (1.4ms)[0m  [1m[34mSELECT "shipments"."id" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:11:in `index'
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 1.4ms | Allocations: 786)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (54.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (41.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (165.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (167.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 15:39:10.744275', '2022-11-07 15:39:10.744278') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (2.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('in_progress', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:41:53 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
AbstractController::ActionNotFound (The action 'create' could not be found for Api::V1::ShipmentsController):
  
rails (8a67a6d44457) actionpack/lib/abstract_controller/base.rb:151:in `process'
rails (8a67a6d44457) actionpack/lib/action_controller/metal.rb:204:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_controller/metal.rb:267:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:32:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:50:in `block in serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:32:in `each'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:32:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:848:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
rails (8a67a6d44457) activerecord/lib/active_record/migration.rb:617:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:99:in `run_callbacks'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:37:in `call_app'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `block in tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:37:in `tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `tagged'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
rails (8a67a6d44457) activesupport/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:60:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rails (8a67a6d44457) railties/lib/rails/engine.rb:529:in `call'
puma (6.0.0) lib/puma/configuration.rb:268:in `call'
puma (6.0.0) lib/puma/request.rb:89:in `block in handle_request'
puma (6.0.0) lib/puma/thread_pool.rb:343:in `with_force_shutdown'
puma (6.0.0) lib/puma/request.rb:88:in `handle_request'
puma (6.0.0) lib/puma/server.rb:430:in `process_client'
puma (6.0.0) lib/puma/server.rb:233:in `block in run'
puma (6.0.0) lib/puma/thread_pool.rb:150:in `block in spawn_thread'
Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:48:05 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver"=>1, "vehicle"=>1, "status"=>"in_progress", "shipment"=>{"invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "status"=>"in_progress"}}
Completed 422 Unprocessable Entity in 65ms (ActiveRecord: 10.3ms | Allocations: 44704)


  
ActiveRecord::RecordInvalid (Validation failed: Driver must exist, Vehicle must exist, Customer must exist):
  
app/controllers/api/v1/shipments_controller.rb:32:in `create'
Started POST "/api/v1/drivers" for ::1 at 2022-11-07 12:48:32 -0300
Processing by Api::V1::DriversController#create as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "bla"], ["last_name", "da silva"], ["document", "123455667"], ["shipping_company", "blaaaa"], ["created_at", "2022-11-07 15:48:32.237895"], ["updated_at", "2022-11-07 15:48:32.237895"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
Completed 201 Created in 27ms (Views: 0.7ms | ActiveRecord: 7.2ms | Allocations: 17102)


Started POST "/api/v1/vehicles" for ::1 at 2022-11-07 12:48:42 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "bodywork"=>"van", "license_plate"=>"BBC-4532", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "license_plate"=>"BBC-4532", "bodywork"=>"van"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (2.1ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Kombi"], ["license_plate", "BBC-4532"], ["bodywork", "van"], ["created_at", "2022-11-07 15:48:42.604505"], ["updated_at", "2022-11-07 15:48:42.604505"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 201 Created in 26ms (Views: 0.4ms | ActiveRecord: 11.0ms | Allocations: 16560)


Started POST "/api/v1/customers" for ::1 at 2022-11-07 12:48:50 -0300
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"description"=>"New customer", "customer"=>{"description"=>"New customer"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mCustomer Create (1.7ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "New customer"], ["status", "active"], ["created_at", "2022-11-07 15:48:50.772705"], ["updated_at", "2022-11-07 15:48:50.772705"]]
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
Completed 201 Created in 19ms (Views: 0.3ms | ActiveRecord: 7.2ms | Allocations: 15325)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:48:58 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver"=>1, "vehicle"=>1, "status"=>"in_progress", "shipment"=>{"invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "status"=>"in_progress"}}
Completed 422 Unprocessable Entity in 2ms (ActiveRecord: 0.0ms | Allocations: 1370)


  
ActiveRecord::RecordInvalid (Validation failed: Driver must exist, Vehicle must exist, Customer must exist):
  
app/controllers/api/v1/shipments_controller.rb:32:in `create'
Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:49:40 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "status"=>"in_progress", "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "status"=>"in_progress"}}
[31mUnpermitted parameters: :driver_id, :vehicle_id, :customer_id. Context: { controller: Api::V1::ShipmentsController, action: create, request: #<ActionDispatch::Request:0x00007fb1380c9ab8>, params: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "status"=>"in_progress", "controller"=>"api/v1/shipments", "action"=>"create", "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "status"=>"in_progress"}} }[0m
Completed 422 Unprocessable Entity in 7ms (ActiveRecord: 0.0ms | Allocations: 1549)


  
ActiveRecord::RecordInvalid (Validation failed: Driver must exist, Vehicle must exist, Customer must exist):
  
app/controllers/api/v1/shipments_controller.rb:32:in `create'
Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:50:09 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "status"=>"in_progress", "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "status"=>"in_progress"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mShipment Create (4.0ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "123456"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["status", "in_progress"], ["created_at", "2022-11-07 15:50:09.254014"], ["updated_at", "2022-11-07 15:50:09.254014"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
Completed 500 Internal Server Error in 154ms (ActiveRecord: 39.5ms | Allocations: 25731)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input value for enum status: "in_progress"
CONTEXT:  unnamed portal parameter $9 = '...'
):
  
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (50.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (48.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (150.0ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (153.6ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 15:52:16.757047', '2022-11-07 15:52:16.757051') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (8.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "status" status NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/drivers" for ::1 at 2022-11-07 12:52:28 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DriversController#create as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mDriver Create (3.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "bla"], ["last_name", "da silva"], ["document", "123455667"], ["shipping_company", "blaaaa"], ["created_at", "2022-11-07 15:52:28.230577"], ["updated_at", "2022-11-07 15:52:28.230577"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
Completed 201 Created in 38ms (Views: 0.3ms | ActiveRecord: 12.5ms | Allocations: 33957)


Started POST "/api/v1/vehicles" for ::1 at 2022-11-07 12:52:35 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "bodywork"=>"van", "license_plate"=>"BBC-4532", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "license_plate"=>"BBC-4532", "bodywork"=>"van"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (2.8ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Kombi"], ["license_plate", "BBC-4532"], ["bodywork", "van"], ["created_at", "2022-11-07 15:52:35.469447"], ["updated_at", "2022-11-07 15:52:35.469447"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 201 Created in 37ms (Views: 0.5ms | ActiveRecord: 7.5ms | Allocations: 16568)


Started POST "/api/v1/customers" for ::1 at 2022-11-07 12:52:43 -0300
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"description"=>"New customer", "customer"=>{"description"=>"New customer"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mCustomer Create (1.7ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "New customer"], ["status", "active"], ["created_at", "2022-11-07 15:52:43.595485"], ["updated_at", "2022-11-07 15:52:43.595485"]]
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
Completed 201 Created in 19ms (Views: 0.3ms | ActiveRecord: 7.2ms | Allocations: 15591)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:52:52 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "status"=>"processing", "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "status"=>"processing"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mShipment Create (0.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "123456"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["status", "processing"], ["created_at", "2022-11-07 15:52:52.637040"], ["updated_at", "2022-11-07 15:52:52.637040"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
Completed 500 Internal Server Error in 87ms (ActiveRecord: 6.4ms | Allocations: 27479)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input value for enum status: "processing"
CONTEXT:  unnamed portal parameter $9 = '...'
):
  
Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:53:18 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "123456"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["status", "processing"], ["created_at", "2022-11-07 15:53:18.903420"], ["updated_at", "2022-11-07 15:53:18.903420"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.7ms | Allocations: 4719)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input value for enum status: "processing"
CONTEXT:  unnamed portal parameter $9 = '...'
):
  
Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:54:14 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "status"=>"processing", "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "status"=>"processing"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mShipment Create (0.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "123456"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["status", "processing"], ["created_at", "2022-11-07 15:54:15.111153"], ["updated_at", "2022-11-07 15:54:15.111153"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
Completed 500 Internal Server Error in 59ms (ActiveRecord: 14.8ms | Allocations: 21895)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input value for enum status: "processing"
CONTEXT:  unnamed portal parameter $9 = '...'
):
  
Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:54:31 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mDriver Load (1.9ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mShipment Create (1.2ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "123456"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["status", nil], ["created_at", "2022-11-07 15:54:31.317665"], ["updated_at", "2022-11-07 15:54:31.317665"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
Completed 500 Internal Server Error in 22ms (ActiveRecord: 4.2ms | Allocations: 4758)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "status" of relation "shipments" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, 1, 123456, Bla da Silva, 12, delivery, high-tech, null, 2022-11-07 15:54:31.317665, 2022-11-07 15:54:31.317665).
):
  
Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:54:51 -0300
Error occurred while parsing request parameters.
Contents:

{
    "customer_id": 1,
    "invoice_number": 123456,
    "cargo_checker": "Bla da Silva",
    "dock": "12",
    "kind": "delivery",
    "warehouse": "high-tech",
    "driver_id": 1,
    "vehicle_id": 1,
    "status": processing
}

Processing by Api::V1::ShipmentsController#create as */*
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms | Allocations: 134)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
app/controllers/api/v1/shipments_controller.rb:53:in `shipment_params'
app/controllers/api/v1/shipments_controller.rb:31:in `create'
Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:54:58 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "status"=>"processing", "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "status"=>"processing"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mDriver Load (2.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mShipment Create (0.7ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "123456"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["status", "processing"], ["created_at", "2022-11-07 15:54:58.869407"], ["updated_at", "2022-11-07 15:54:58.869407"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 3.9ms | Allocations: 4718)


  
ActiveRecord::StatementInvalid (PG::InvalidTextRepresentation: ERROR:  invalid input value for enum status: "processing"
CONTEXT:  unnamed portal parameter $9 = '...'
):
  
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (62.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (59.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (168.2ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (175.2ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 15:55:48.569560', '2022-11-07 15:55:48.569564') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (9.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/drivers" for ::1 at 2022-11-07 12:56:25 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DriversController#create as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mDriver Create (2.0ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "bla"], ["last_name", "da silva"], ["document", "123455667"], ["shipping_company", "blaaaa"], ["created_at", "2022-11-07 15:56:26.075346"], ["updated_at", "2022-11-07 15:56:26.075346"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
Completed 201 Created in 41ms (Views: 1.1ms | ActiveRecord: 11.2ms | Allocations: 33957)


Started POST "/api/v1/vehicles" for ::1 at 2022-11-07 12:56:37 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "bodywork"=>"van", "license_plate"=>"BBC-4532", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "license_plate"=>"BBC-4532", "bodywork"=>"van"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (1.8ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Kombi"], ["license_plate", "BBC-4532"], ["bodywork", "van"], ["created_at", "2022-11-07 15:56:37.363549"], ["updated_at", "2022-11-07 15:56:37.363549"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 201 Created in 30ms (Views: 0.4ms | ActiveRecord: 9.8ms | Allocations: 16568)


Started POST "/api/v1/customers" for ::1 at 2022-11-07 12:56:52 -0300
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"description"=>"New customer", "customer"=>{"description"=>"New customer"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mCustomer Create (1.6ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "New customer"], ["status", "active"], ["created_at", "2022-11-07 15:56:52.551902"], ["updated_at", "2022-11-07 15:56:52.551902"]]
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
Completed 201 Created in 24ms (Views: 0.7ms | ActiveRecord: 8.5ms | Allocations: 15591)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:57:01 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "internship"=>"processing", "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "internship"=>"processing"}}
[31mUnpermitted parameter: :internship. Context: { controller: Api::V1::ShipmentsController, action: create, request: #<ActionDispatch::Request:0x00007f82d487dd28>, params: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "internship"=>"processing", "controller"=>"api/v1/shipments", "action"=>"create", "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "internship"=>"processing"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mShipment Create (0.8ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "123456"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", nil], ["created_at", "2022-11-07 15:57:01.827903"], ["updated_at", "2022-11-07 15:57:01.827903"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
Completed 500 Internal Server Error in 115ms (ActiveRecord: 22.1ms | Allocations: 27918)


  
ActiveRecord::NotNullViolation (PG::NotNullViolation: ERROR:  null value in column "internship" of relation "shipments" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, 1, 123456, Bla da Silva, 12, delivery, high-tech, null, 2022-11-07 15:57:01.827903, 2022-11-07 15:57:01.827903).
):
  
Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:59:00 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "internship"=>"processing", "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "internship"=>"processing"}}
[31mUnpermitted parameter: :internship. Context: { controller: Api::V1::ShipmentsController, action: create, request: #<ActionDispatch::Request:0x00007f82d4419908>, params: {"customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "internship"=>"processing", "controller"=>"api/v1/shipments", "action"=>"create", "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>123456, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "internship"=>"processing"}} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mShipment Create (1.3ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "123456"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 15:59:00.839690"], ["updated_at", "2022-11-07 15:59:00.839690"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
Completed 201 Created in 57ms (Views: 0.4ms | ActiveRecord: 18.7ms | Allocations: 22133)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 12:59:26 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mDriver Load (2.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mShipment Create (0.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "654321"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 15:59:26.211868"], ["updated_at", "2022-11-07 15:59:26.211868"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
Completed 201 Created in 21ms (Views: 0.4ms | ActiveRecord: 7.0ms | Allocations: 4783)


Started GET "/api/v1/shipments" for ::1 at 2022-11-07 12:59:31 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (0.8ms)[0m  [1m[34mSELECT "shipments"."id" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:23:in `index'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.8ms | Allocations: 4170)


  
ActiveModel::MissingAttributeError (missing attribute: customer_id):
  
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 13:00:07 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT "shipments"."id" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:23:in `index'
Completed 500 Internal Server Error in 28ms (ActiveRecord: 5.0ms | Allocations: 12555)


  
ActiveModel::MissingAttributeError (missing attribute: customer_id):
  
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 13:00:48 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT "shipments"."id" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:23:in `index'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.3ms | Allocations: 10140)


  
ActiveRecord::AssociationNotFoundError (Association named 'customer_id' was not found on Shipment; perhaps you misspelled it?
Did you mean?  customer):
  
app/controllers/api/v1/shipments_controller.rb:23:in `index'
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 13:01:28 -0300
Processing by Api::V1::ShipmentsController#index as */*
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms | Allocations: 6540)


  
NoMethodError (undefined method `id' for :customer:Symbol):
  
app/controllers/api/v1/shipments_controller.rb:11:in `index'
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 13:01:40 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT "shipments"."id" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:23:in `index'
Completed 500 Internal Server Error in 27ms (ActiveRecord: 5.6ms | Allocations: 12635)


  
ActiveModel::MissingAttributeError (missing attribute: customer_id):
  
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 13:01:56 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT "shipments"."id" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:23:in `index'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 3.1ms | Allocations: 10111)


  
ActiveRecord::AssociationNotFoundError (Association named 'customer_id' was not found on Shipment; perhaps you misspelled it?
Did you mean?  customer):
  
app/controllers/api/v1/shipments_controller.rb:23:in `index'
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (56.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (56.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (165.4ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (174.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (18.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 16:02:41.896276', '2022-11-07 16:02:41.896298') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (11.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id_id" bigint NOT NULL, "vehicle_id_id" bigint NOT NULL, "customer_id_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_48f309ad72"
FOREIGN KEY ("driver_id_id")
  REFERENCES "driver_ids" ("id")
, CONSTRAINT "fk_rails_fe113a9a8f"
FOREIGN KEY ("vehicle_id_id")
  REFERENCES "vehicle_ids" ("id")
, CONSTRAINT "fk_rails_1d4ffe4799"
FOREIGN KEY ("customer_id_id")
  REFERENCES "customer_ids" ("id")
)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (60.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (44.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (155.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (161.4ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 16:02:57.182916', '2022-11-07 16:02:57.182921') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (59.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (45.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (170.6ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (155.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (15.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 17:07:57.193326', '2022-11-07 17:07:57.193338') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/drivers" for ::1 at 2022-11-07 14:08:17 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DriversController#create as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mDriver Create (1.8ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "bla"], ["last_name", "da silva"], ["document", "123455667"], ["shipping_company", "blaaaa"], ["created_at", "2022-11-07 17:08:17.922497"], ["updated_at", "2022-11-07 17:08:17.922497"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
Completed 201 Created in 37ms (Views: 0.4ms | ActiveRecord: 9.6ms | Allocations: 33957)


Started POST "/api/v1/vehicles" for ::1 at 2022-11-07 14:08:31 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "bodywork"=>"van", "license_plate"=>"BBC-4532", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "license_plate"=>"BBC-4532", "bodywork"=>"van"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (1.9ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Kombi"], ["license_plate", "BBC-4532"], ["bodywork", "van"], ["created_at", "2022-11-07 17:08:31.719524"], ["updated_at", "2022-11-07 17:08:31.719524"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 201 Created in 28ms (Views: 0.3ms | ActiveRecord: 7.1ms | Allocations: 16568)


Started POST "/api/v1/customers" for ::1 at 2022-11-07 14:08:44 -0300
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"description"=>"New customer", "customer"=>{"description"=>"New customer"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mCustomer Create (2.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "New customer"], ["status", "active"], ["created_at", "2022-11-07 17:08:44.805261"], ["updated_at", "2022-11-07 17:08:44.805261"]]
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
Completed 201 Created in 22ms (Views: 0.3ms | ActiveRecord: 8.3ms | Allocations: 15591)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 14:08:55 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mShipment Create (1.1ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "654321"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 17:08:55.497914"], ["updated_at", "2022-11-07 17:08:55.497914"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
Completed 201 Created in 103ms (Views: 0.4ms | ActiveRecord: 15.8ms | Allocations: 27715)


Started GET "/api/v1/shipments" for ::1 at 2022-11-07 14:09:02 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (0.7ms)[0m  [1m[34mSELECT "shipments"."id" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:23:in `index'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.7ms | Allocations: 2052)


  
ActiveRecord::AssociationNotFoundError (Association named 'customer_id' was not found on Shipment; perhaps you misspelled it?
Did you mean?  customer):
  
app/controllers/api/v1/shipments_controller.rb:23:in `index'
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (110.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (59.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (164.0ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (172.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (14.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 18:08:49.603071', '2022-11-07 18:08:49.603079') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (8.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (55.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (62.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (161.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (164.8ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 18:15:42.150999', '2022-11-07 18:15:42.151011') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (12.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (67.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (57.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (154.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (160.0ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (21.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 18:29:20.960845', '2022-11-07 18:29:20.960851') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 17:25:04 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (0.9ms)[0m  [1m[34mSELECT "shipments"."id" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:23:in `index'
Completed 200 OK in 64ms (Views: 4.0ms | ActiveRecord: 3.8ms | Allocations: 31678)


Started POST "/api/v1/drivers" for ::1 at 2022-11-07 17:27:00 -0300
Processing by Api::V1::DriversController#create as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mDriver Create (2.3ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["first_name", "bla"], ["last_name", "da silva"], ["document", "123455667"], ["shipping_company", "blaaaa"], ["created_at", "2022-11-07 20:27:00.573342"], ["updated_at", "2022-11-07 20:27:00.573342"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
Completed 201 Created in 129ms (Views: 0.6ms | ActiveRecord: 13.7ms | Allocations: 18197)


Started POST "/api/v1/vehicles" for ::1 at 2022-11-07 17:27:19 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "bodywork"=>"van", "license_plate"=>"BBC-4532", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "license_plate"=>"BBC-4532", "bodywork"=>"van"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (2.2ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Kombi"], ["license_plate", "BBC-4532"], ["bodywork", "van"], ["created_at", "2022-11-07 20:27:19.816594"], ["updated_at", "2022-11-07 20:27:19.816594"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 201 Created in 28ms (Views: 0.6ms | ActiveRecord: 8.8ms | Allocations: 16584)


Started POST "/api/v1/customers" for ::1 at 2022-11-07 17:27:28 -0300
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"description"=>"New customer", "customer"=>{"description"=>"New customer"}}
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mCustomer Create (8.1ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "New customer"], ["status", "active"], ["created_at", "2022-11-07 20:27:28.384310"], ["updated_at", "2022-11-07 20:27:28.384310"]]
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
Completed 201 Created in 44ms (Views: 3.1ms | ActiveRecord: 14.9ms | Allocations: 15565)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 17:27:42 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mShipment Create (1.3ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "654321"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 20:27:42.791181"], ["updated_at", "2022-11-07 20:27:42.791181"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:32:in `create'
Completed 201 Created in 120ms (Views: 1.3ms | ActiveRecord: 14.6ms | Allocations: 27156)


Started GET "/api/v1/shipments" for ::1 at 2022-11-07 17:27:58 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (0.7ms)[0m  [1m[34mSELECT "shipments"."id" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:23:in `index'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.7ms | Allocations: 945)


  
ActiveRecord::AssociationNotFoundError (Association named 'customer_id' was not found on Shipment; perhaps you misspelled it?
Did you mean?  customer):
  
app/controllers/api/v1/shipments_controller.rb:23:in `index'
  [1m[36mShipment Load (0.7ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 17:33:26 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (1.5ms)[0m  [1m[34mSELECT "shipments"."id", "shipments"."customer_id", "shipments"."invoice_number", "shipments"."cargo_checker", "shipments"."dock", "shipments"."kind", "shipments"."warehouse", "shipments"."driver_id", "shipments"."vehicle_id", "shipments"."internship" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
Completed 200 OK in 93ms (Views: 73.1ms | ActiveRecord: 3.6ms | Allocations: 27058)


Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 17:35:56 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.6ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:50:in `set_shipment'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
Completed 200 OK in 69ms (Views: 15.8ms | ActiveRecord: 12.2ms | Allocations: 14679)


Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 17:39:12 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.6ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:50:in `set_shipment'
Completed 500 Internal Server Error in 50ms (ActiveRecord: 5.2ms | Allocations: 10092)


  
SyntaxError (/home/alexandre/workspace/personal_projects/portico-admin-api/app/adapters/api/v1/shipment_adapter.rb:12: syntax error, unexpected '\n', expecting =>
/home/alexandre/workspace/personal_projects/portico-admin-api/app/adapters/api/v1/shipment_adapter.rb:15: syntax error, unexpected label, expecting '='
          dock: @shipment.dock,
          ^~~~~
/home/alexandre/workspace/personal_projects/portico-admin-api/app/adapters/api/v1/shipment_adapter.rb:16: syntax error, unexpected label, expecting '='
          kind: @shipment.kind,
          ^~~~~
/home/alexandre/workspace/personal_projects/portico-admin-api/app/adapters/api/v1/shipment_adapter.rb:17: syntax error, unexpected label, expecting '='
          warehouse: @shipment.warehouse,
          ^~~~~~~~~~
/home/alexandre/workspace/personal_projects/portico-admin-api/app/adapters/api/v1/shipment_adapter.rb:18: syntax error, unexpected label, expecting '='
          driver: {
          ^~~~~~~
/home/alexandre/workspace/personal_projects/portico-admin-api/app/adapters/api/v1/shipment_adapter.rb:19: syntax error, unexpected '\n', expecting =>
/home/alexandre/workspace/personal_projects/portico-admin-api/app/adapters/api/v1/shipment_adapter.rb:22: syntax error, unexpected label, expecting '='
          internship: @shipment.internship,
          ^~~~~~~~~~~
/home/alexandre/workspace/personal_projects/portico-admin-api/app/adapters/api/v1/shipment_adapter.rb:23: syntax error, unexpected label, expecting '='
          created_at: @shipment.created_at,
          ^~~~~~~~~~~
/home/alexandre/workspace/personal_projects/portico-admin-api/app/adapters/api/v1/shipment_adapter.rb:24: syntax error, unexpected label, expecting '='
          updated_at: @shipment.updated_at,
          ^~~~~~~~~~~
/home/alexandre/workspace/personal_projects/portico-admin-api/app/adapters/api/v1/shipment_adapter.rb:25: syntax error, unexpected '}', expecting '='
        }
        ^
/home/alexandre/workspace/personal_projects/portico-admin-api/app/adapters/api/v1/shipment_adapter.rb:41: syntax error, unexpected end-of-input, expecting `end'):
  
app/adapters/api/v1/shipment_adapter.rb:12: syntax error, unexpected '\n', expecting =>
app/adapters/api/v1/shipment_adapter.rb:15: syntax error, unexpected label, expecting '='
app/adapters/api/v1/shipment_adapter.rb:16: syntax error, unexpected label, expecting '='
app/adapters/api/v1/shipment_adapter.rb:17: syntax error, unexpected label, expecting '='
app/adapters/api/v1/shipment_adapter.rb:18: syntax error, unexpected label, expecting '='
app/adapters/api/v1/shipment_adapter.rb:19: syntax error, unexpected '\n', expecting =>
app/adapters/api/v1/shipment_adapter.rb:22: syntax error, unexpected label, expecting '='
app/adapters/api/v1/shipment_adapter.rb:23: syntax error, unexpected label, expecting '='
app/adapters/api/v1/shipment_adapter.rb:24: syntax error, unexpected label, expecting '='
app/adapters/api/v1/shipment_adapter.rb:25: syntax error, unexpected '}', expecting '='
app/adapters/api/v1/shipment_adapter.rb:41: syntax error, unexpected end-of-input, expecting `end'
app/controllers/api/v1/shipments_controller.rb:28:in `show'
Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 17:43:10 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:50:in `set_shipment'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers"."first_name", "drivers"."last_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
Completed 200 OK in 74ms (Views: 17.6ms | ActiveRecord: 15.7ms | Allocations: 19560)


Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 17:44:50 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.5ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:50:in `set_shipment'
Completed 500 Internal Server Error in 67ms (ActiveRecord: 10.0ms | Allocations: 12677)


  
SyntaxError (/home/alexandre/workspace/personal_projects/portico-admin-api/app/models/driver.rb:6: syntax error, unexpected ')', expecting '.' or &. or :: or '['
...name, self.last_name.join(' '))
...                              ^
):
  
app/models/driver.rb:6: syntax error, unexpected ')', expecting '.' or &. or :: or '['
app/adapters/api/v1/shipment_adapter.rb:35:in `build_driver'
app/adapters/api/v1/shipment_adapter.rb:19:in `as_json'
app/controllers/api/v1/shipments_controller.rb:28:in `show'
Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 17:45:02 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:50:in `set_shipment'
Completed 500 Internal Server Error in 43ms (ActiveRecord: 8.6ms | Allocations: 12675)


  
SyntaxError (/home/alexandre/workspace/personal_projects/portico-admin-api/app/models/driver.rb:6: syntax error, unexpected '\n', expecting '.' or &. or :: or '['):
  
app/models/driver.rb:6: syntax error, unexpected '\n', expecting '.' or &. or :: or '['
app/adapters/api/v1/shipment_adapter.rb:35:in `build_driver'
app/adapters/api/v1/shipment_adapter.rb:19:in `as_json'
app/controllers/api/v1/shipments_controller.rb:28:in `show'
Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 17:46:27 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:50:in `set_shipment'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
Completed 500 Internal Server Error in 57ms (ActiveRecord: 11.7ms | Allocations: 17855)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "full_name" does not exist
LINE 1: SELECT "full_name", "drivers"."shipping_company" FROM "drive...
               ^
):
  
Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 17:47:30 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.2ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:50:in `set_shipment'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
Completed 500 Internal Server Error in 44ms (ActiveRecord: 8.8ms | Allocations: 17802)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "full_name" does not exist
LINE 1: SELECT "full_name", "drivers"."shipping_company" FROM "drive...
               ^
):
  
Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 17:47:32 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:50:in `set_shipment'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.3ms | Allocations: 2065)


  
ActiveRecord::StatementInvalid (PG::UndefinedColumn: ERROR:  column "full_name" does not exist
LINE 1: SELECT "full_name", "drivers"."shipping_company" FROM "drive...
               ^
):
  
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 17:49:14 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.7ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:50:in `set_shipment'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
Completed 200 OK in 219ms (Views: 36.4ms | ActiveRecord: 14.6ms | Allocations: 84139)


  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Update (1.0ms)[0m  [1m[33mUPDATE "drivers" SET "updated_at" = $1, "full_name" = $2 WHERE "drivers"."id" = $3[0m  [["updated_at", "2022-11-07 20:50:14.619179"], ["full_name", "bla da silva"], ["id", 1]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 17:50:21 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:50:in `set_shipment'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 1.1ms | Allocations: 2190)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (54.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (62.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (156.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (158.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 20:55:20.347510', '2022-11-07 20:55:20.347513') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (23.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (11.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (19.1ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/drivers" for ::1 at 2022-11-07 17:56:45 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DriversController#create as */*
  Parameters: {"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa", "driver"=>{"first_name"=>"bla", "last_name"=>"da silva", "document"=>"123455667", "shipping_company"=>"blaaaa"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mDriver Create (2.0ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "bla"], ["last_name", "da silva"], ["document", "123455667"], ["shipping_company", "blaaaa"], ["created_at", "2022-11-07 20:56:45.461054"], ["updated_at", "2022-11-07 20:56:45.461054"], ["full_name", "bla da silva"]]
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:25:in `create'
Completed 201 Created in 43ms (Views: 0.7ms | ActiveRecord: 10.7ms | Allocations: 34446)


Started GET "/api/v1/drivers/1" for ::1 at 2022-11-07 17:57:34 -0300
Processing by Api::V1::DriversController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:43:in `set_driver'
Completed 200 OK in 27ms (Views: 0.5ms | ActiveRecord: 5.8ms | Allocations: 8385)


Started GET "/api/v1/drivers/1" for ::1 at 2022-11-07 17:57:46 -0300
Processing by Api::V1::DriversController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/drivers_controller.rb:43:in `set_driver'
Completed 200 OK in 17ms (Views: 0.4ms | ActiveRecord: 5.1ms | Allocations: 5768)


Started POST "/api/v1/vehicles" for ::1 at 2022-11-07 17:58:11 -0300
Processing by Api::V1::VehiclesController#create as */*
  Parameters: {"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "bodywork"=>"van", "license_plate"=>"BBC-4532", "vehicle"=>{"manufacturer"=>"Volkswagen", "sample"=>"Kombi", "license_plate"=>"BBC-4532", "bodywork"=>"van"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mVehicle Create (2.7ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Kombi"], ["license_plate", "BBC-4532"], ["bodywork", "van"], ["created_at", "2022-11-07 20:58:12.058001"], ["updated_at", "2022-11-07 20:58:12.058001"]]
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:25:in `create'
Completed 201 Created in 120ms (Views: 1.5ms | ActiveRecord: 8.6ms | Allocations: 16566)


Started POST "/api/v1/customers" for ::1 at 2022-11-07 17:58:19 -0300
Processing by Api::V1::CustomersController#create as */*
  Parameters: {"description"=>"New customer", "customer"=>{"description"=>"New customer"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mCustomer Create (1.9ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "New customer"], ["status", "active"], ["created_at", "2022-11-07 20:58:19.830879"], ["updated_at", "2022-11-07 20:58:19.830879"]]
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/customers_controller.rb:18:in `create'
Completed 201 Created in 28ms (Views: 0.4ms | ActiveRecord: 9.5ms | Allocations: 15585)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 17:58:29 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mDriver Load (2.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mShipment Create (1.2ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "654321"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 20:58:29.693617"], ["updated_at", "2022-11-07 20:58:29.693617"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
Completed 201 Created in 51ms (Views: 0.5ms | ActiveRecord: 10.2ms | Allocations: 25045)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 17:59:14 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mShipment Create (1.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "654321"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 20:59:15.163274"], ["updated_at", "2022-11-07 20:59:15.163274"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mTRANSACTION (9.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
Completed 201 Created in 118ms (Views: 11.3ms | ActiveRecord: 30.8ms | Allocations: 24011)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 17:59:41 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mShipment Create (0.7ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "654321"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 20:59:41.327282"], ["updated_at", "2022-11-07 20:59:41.327282"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
Completed 201 Created in 65ms (Views: 4.6ms | ActiveRecord: 19.9ms | Allocations: 24011)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 17:59:51 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mShipment Create (1.1ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "654321"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 20:59:51.768758"], ["updated_at", "2022-11-07 20:59:51.768758"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
Completed 201 Created in 94ms (Views: 7.5ms | ActiveRecord: 21.3ms | Allocations: 24055)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 18:02:03 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mShipment Create (0.9ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "654321"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:02:03.228947"], ["updated_at", "2022-11-07 21:02:03.228947"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
Completed 201 Created in 76ms (Views: 5.9ms | ActiveRecord: 23.1ms | Allocations: 24912)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 18:02:37 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mShipment Create (0.7ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "654321"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:02:38.052306"], ["updated_at", "2022-11-07 21:02:38.052306"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
Completed 201 Created in 73ms (Views: 7.4ms | ActiveRecord: 21.8ms | Allocations: 24870)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 18:03:15 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "654321"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:03:15.465550"], ["updated_at", "2022-11-07 21:03:15.465550"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (2.1ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
Completed 201 Created in 72ms (Views: 9.2ms | ActiveRecord: 23.1ms | Allocations: 24805)


Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 18:03:37 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:51:in `set_shipment'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
Completed 200 OK in 10ms (Views: 5.7ms | ActiveRecord: 1.1ms | Allocations: 3091)


Started GET "/api/v1/shipments" for ::1 at 2022-11-07 18:03:49 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (1.0ms)[0m  [1m[34mSELECT "shipments"."id", "shipments"."customer_id", "shipments"."invoice_number", "shipments"."cargo_checker", "shipments"."dock", "shipments"."kind", "shipments"."warehouse", "shipments"."driver_id", "shipments"."vehicle_id", "shipments"."internship" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 1.8ms | Allocations: 8359)


Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 18:04:04 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.9ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:51:in `set_shipment'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
Completed 200 OK in 36ms (Views: 30.2ms | ActiveRecord: 2.0ms | Allocations: 2865)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (57.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (63.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (161.8ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (156.8ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:13:32.297638', '2022-11-07 21:13:32.297641') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (66.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (60.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (162.4ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (164.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:13:39.908831', '2022-11-07 21:13:39.908839') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (62.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (56.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (180.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (155.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:14:25.958974', '2022-11-07 21:14:25.958978') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (13.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.9ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (64.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (59.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (167.4ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (167.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:15:56.742675', '2022-11-07 21:15:56.742686') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Santina"], ["last_name", "Steuber"], ["document", "250379944"], ["shipping_company", "Harber-Maggio"], ["created_at", "2022-11-07 21:15:58.699425"], ["updated_at", "2022-11-07 21:15:58.699425"], ["full_name", "Santina Steuber"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Darcie"], ["last_name", "Kunze"], ["document", "699252775"], ["shipping_company", "Schuppe-Kerluke"], ["created_at", "2022-11-07 21:15:58.708237"], ["updated_at", "2022-11-07 21:15:58.708237"], ["full_name", "Darcie Kunze"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Araceli"], ["last_name", "Harvey"], ["document", "250862783"], ["shipping_company", "Wiegand, Gusikowski and Langosh"], ["created_at", "2022-11-07 21:15:58.714896"], ["updated_at", "2022-11-07 21:15:58.714896"], ["full_name", "Araceli Harvey"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Vernon"], ["last_name", "Schuster"], ["document", "121312483"], ["shipping_company", "Hettinger, Ondricka and Corkery"], ["created_at", "2022-11-07 21:15:58.734561"], ["updated_at", "2022-11-07 21:15:58.734561"], ["full_name", "Vernon Schuster"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.6ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Marquis"], ["last_name", "Stark"], ["document", "960296472"], ["shipping_company", "Gusikowski Inc"], ["created_at", "2022-11-07 21:15:58.741600"], ["updated_at", "2022-11-07 21:15:58.741600"], ["full_name", "Marquis Stark"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/v1/drivers" for ::1 at 2022-11-07 18:16:42 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DriversController#index as */*
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."first_name", "drivers"."last_name", "drivers"."document", "drivers"."shipping_company" FROM "drivers" ORDER BY "drivers"."first_name" ASC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:17:in `index'
Completed 200 OK in 73ms (Views: 18.9ms | ActiveRecord: 7.9ms | Allocations: 42779)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (66.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (60.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (158.0ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (154.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (16.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (17.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:21:00.165700', '2022-11-07 21:21:00.165710') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.7ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (9.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (15.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (22.6ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Darrin"], ["last_name", "Wehner"], ["document", "187503740"], ["shipping_company", "Sanford-Grant"], ["created_at", "2022-11-07 21:21:00.705052"], ["updated_at", "2022-11-07 21:21:00.705052"], ["full_name", "Darrin Wehner"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Marlena"], ["last_name", "Douglas"], ["document", "752720585"], ["shipping_company", "Sauer, Metz and Muller"], ["created_at", "2022-11-07 21:21:00.712840"], ["updated_at", "2022-11-07 21:21:00.712840"], ["full_name", "Marlena Douglas"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Reyes"], ["last_name", "Hayes"], ["document", "555502033"], ["shipping_company", "Conroy, Konopelski and Kemmer"], ["created_at", "2022-11-07 21:21:00.720061"], ["updated_at", "2022-11-07 21:21:00.720061"], ["full_name", "Reyes Hayes"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Cherie"], ["last_name", "Donnelly"], ["document", "959293222"], ["shipping_company", "Murray-Balistreri"], ["created_at", "2022-11-07 21:21:00.726738"], ["updated_at", "2022-11-07 21:21:00.726738"], ["full_name", "Cherie Donnelly"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.6ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Erin"], ["last_name", "Hills"], ["document", "624939200"], ["shipping_company", "Lang, Renner and Auer"], ["created_at", "2022-11-07 21:21:00.734077"], ["updated_at", "2022-11-07 21:21:00.734077"], ["full_name", "Erin Hills"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (63.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (61.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (146.2ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (161.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:21:12.754896', '2022-11-07 21:21:12.754907') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (814.7ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (204.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (19.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (19.8ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Earleen"], ["last_name", "Murray"], ["document", "953179331"], ["shipping_company", "Roberts-Price"], ["created_at", "2022-11-07 21:21:14.321360"], ["updated_at", "2022-11-07 21:21:14.321360"], ["full_name", "Earleen Murray"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (3.0ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Jimmie"], ["last_name", "Daugherty"], ["document", "228383571"], ["shipping_company", "Nitzsche-Stracke"], ["created_at", "2022-11-07 21:21:14.332956"], ["updated_at", "2022-11-07 21:21:14.332956"], ["full_name", "Jimmie Daugherty"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.8ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Darrin"], ["last_name", "D'Amore"], ["document", "449491597"], ["shipping_company", "O'Kon LLC"], ["created_at", "2022-11-07 21:21:14.343750"], ["updated_at", "2022-11-07 21:21:14.343750"], ["full_name", "Darrin D'Amore"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.3ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Sergio"], ["last_name", "Stiedemann"], ["document", "161986505"], ["shipping_company", "Senger LLC"], ["created_at", "2022-11-07 21:21:14.352158"], ["updated_at", "2022-11-07 21:21:14.352158"], ["full_name", "Sergio Stiedemann"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (2.9ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Elliott"], ["last_name", "Effertz"], ["document", "673694156"], ["shipping_company", "Nikolaus Inc"], ["created_at", "2022-11-07 21:21:14.362856"], ["updated_at", "2022-11-07 21:21:14.362856"], ["full_name", "Elliott Effertz"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (61.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (50.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (143.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (168.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (14.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (4.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:22:17.041246', '2022-11-07 21:22:17.041257') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.4ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.6ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Marisela"], ["last_name", "Donnelly"], ["document", "619909171"], ["shipping_company", "Green, Baumbach and Swaniawski"], ["created_at", "2022-11-07 21:22:17.545179"], ["updated_at", "2022-11-07 21:22:17.545179"], ["full_name", "Marisela Donnelly"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (3.0ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Victor"], ["last_name", "Miller"], ["document", "642244044"], ["shipping_company", "Hammes and Sons"], ["created_at", "2022-11-07 21:22:17.557043"], ["updated_at", "2022-11-07 21:22:17.557043"], ["full_name", "Victor Miller"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.9ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Mack"], ["last_name", "Padberg"], ["document", "903986262"], ["shipping_company", "Cormier, Gleichner and Denesik"], ["created_at", "2022-11-07 21:22:17.567892"], ["updated_at", "2022-11-07 21:22:17.567892"], ["full_name", "Mack Padberg"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Levi"], ["last_name", "Crooks"], ["document", "224606713"], ["shipping_company", "Turner-King"], ["created_at", "2022-11-07 21:22:17.576374"], ["updated_at", "2022-11-07 21:22:17.576374"], ["full_name", "Levi Crooks"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.3ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Arthur"], ["last_name", "Jacobson"], ["document", "168174437"], ["shipping_company", "Schultz, Kuhlman and Abshire"], ["created_at", "2022-11-07 21:22:17.583852"], ["updated_at", "2022-11-07 21:22:17.583852"], ["full_name", "Arthur Jacobson"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (63.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (60.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (144.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (164.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (19.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:22:30.740880', '2022-11-07 21:22:30.740891') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (46.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (2.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (21.7ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Manuel"], ["last_name", "Lindgren"], ["document", "628805592"], ["shipping_company", "Harris-Kessler"], ["created_at", "2022-11-07 21:22:31.263194"], ["updated_at", "2022-11-07 21:22:31.263194"], ["full_name", "Manuel Lindgren"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.3ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Julio"], ["last_name", "Jones"], ["document", "741563444"], ["shipping_company", "Anderson-Bednar"], ["created_at", "2022-11-07 21:22:31.271934"], ["updated_at", "2022-11-07 21:22:31.271934"], ["full_name", "Julio Jones"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.3ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Lashawna"], ["last_name", "Goodwin"], ["document", "361202787"], ["shipping_company", "Oberbrunner and Sons"], ["created_at", "2022-11-07 21:22:31.278942"], ["updated_at", "2022-11-07 21:22:31.278942"], ["full_name", "Lashawna Goodwin"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.3ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Tess"], ["last_name", "Mitchell"], ["document", "187354403"], ["shipping_company", "Marvin-Hintz"], ["created_at", "2022-11-07 21:22:31.285569"], ["updated_at", "2022-11-07 21:22:31.285569"], ["full_name", "Tess Mitchell"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Burma"], ["last_name", "Jakubowski"], ["document", "477162230"], ["shipping_company", "Flatley Inc"], ["created_at", "2022-11-07 21:22:31.292665"], ["updated_at", "2022-11-07 21:22:31.292665"], ["full_name", "Burma Jakubowski"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (69.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (62.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (163.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (145.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:22:42.069927', '2022-11-07 21:22:42.069930') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.9ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (11.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.6ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Delia"], ["last_name", "Schaefer"], ["document", "982177330"], ["shipping_company", "Hagenes-Jacobson"], ["created_at", "2022-11-07 21:22:42.591496"], ["updated_at", "2022-11-07 21:22:42.591496"], ["full_name", "Delia Schaefer"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.2ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Lauri"], ["last_name", "Monahan"], ["document", "861305349"], ["shipping_company", "Satterfield, Okuneva and Cronin"], ["created_at", "2022-11-07 21:22:42.599581"], ["updated_at", "2022-11-07 21:22:42.599581"], ["full_name", "Lauri Monahan"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Rudolph"], ["last_name", "Abshire"], ["document", "308152846"], ["shipping_company", "Walsh, Douglas and McCullough"], ["created_at", "2022-11-07 21:22:42.606231"], ["updated_at", "2022-11-07 21:22:42.606231"], ["full_name", "Rudolph Abshire"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Nam"], ["last_name", "Mraz"], ["document", "635528440"], ["shipping_company", "Leuschke-Bosco"], ["created_at", "2022-11-07 21:22:42.613516"], ["updated_at", "2022-11-07 21:22:42.613516"], ["full_name", "Nam Mraz"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Larissa"], ["last_name", "Little"], ["document", "855775896"], ["shipping_company", "Stehr Group"], ["created_at", "2022-11-07 21:22:42.621418"], ["updated_at", "2022-11-07 21:22:42.621418"], ["full_name", "Larissa Little"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (61.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (49.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (162.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (167.4ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:27:25.859253', '2022-11-07 21:27:25.859264') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (18.7ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (9.4ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (29.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Elvin"], ["last_name", "Kihn"], ["document", "489535986"], ["shipping_company", "Langosh Inc"], ["created_at", "2022-11-07 21:27:26.433586"], ["updated_at", "2022-11-07 21:27:26.433586"], ["full_name", "Elvin Kihn"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Joshua"], ["last_name", "Abernathy"], ["document", "502395510"], ["shipping_company", "Hayes, Satterfield and Gulgowski"], ["created_at", "2022-11-07 21:27:26.441621"], ["updated_at", "2022-11-07 21:27:26.441621"], ["full_name", "Joshua Abernathy"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Mack"], ["last_name", "Jenkins"], ["document", "945059780"], ["shipping_company", "Ortiz, McClure and Smitham"], ["created_at", "2022-11-07 21:27:26.448156"], ["updated_at", "2022-11-07 21:27:26.448156"], ["full_name", "Mack Jenkins"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Kelly"], ["last_name", "Sanford"], ["document", "877657807"], ["shipping_company", "O'Keefe-Hamill"], ["created_at", "2022-11-07 21:27:26.454962"], ["updated_at", "2022-11-07 21:27:26.454962"], ["full_name", "Kelly Sanford"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (8.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Donnell"], ["last_name", "Considine"], ["document", "683180328"], ["shipping_company", "Williamson, Bartoletti and Glover"], ["created_at", "2022-11-07 21:27:26.467822"], ["updated_at", "2022-11-07 21:27:26.467822"], ["full_name", "Donnell Considine"]]
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (67.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (61.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (173.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (168.6ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (16.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:27:52.105233', '2022-11-07 21:27:52.105253') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.2ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (7.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Phyliss"], ["last_name", "Ebert"], ["document", "724492493"], ["shipping_company", "Bogan, Yost and Watsica"], ["created_at", "2022-11-07 21:27:52.637288"], ["updated_at", "2022-11-07 21:27:52.637288"], ["full_name", "Phyliss Ebert"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Florrie"], ["last_name", "Gleason"], ["document", "503805697"], ["shipping_company", "Weimann, Weimann and Kassulke"], ["created_at", "2022-11-07 21:27:52.645403"], ["updated_at", "2022-11-07 21:27:52.645403"], ["full_name", "Florrie Gleason"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Susan"], ["last_name", "Towne"], ["document", "600074281"], ["shipping_company", "Corwin, Batz and Reinger"], ["created_at", "2022-11-07 21:27:52.652838"], ["updated_at", "2022-11-07 21:27:52.652838"], ["full_name", "Susan Towne"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Bruce"], ["last_name", "Stroman"], ["document", "246955697"], ["shipping_company", "Hermiston, Little and Pfannerstill"], ["created_at", "2022-11-07 21:27:52.659921"], ["updated_at", "2022-11-07 21:27:52.659921"], ["full_name", "Bruce Stroman"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Otha"], ["last_name", "Roberts"], ["document", "455909579"], ["shipping_company", "Donnelly-Stanton"], ["created_at", "2022-11-07 21:27:52.667429"], ["updated_at", "2022-11-07 21:27:52.667429"], ["full_name", "Otha Roberts"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (3.0ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Chang'an"], ["sample", "Mustang"], ["license_plate", "KLY-3936"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:27:52.691827"], ["updated_at", "2022-11-07 21:27:52.691827"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (3.8ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Mahindra"], ["sample", "Accord"], ["license_plate", "FNT-7433"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:27:52.704215"], ["updated_at", "2022-11-07 21:27:52.704215"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (3.1ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "SEAT"], ["sample", "A5"], ["license_plate", "RGL-2527"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:27:52.718784"], ["updated_at", "2022-11-07 21:27:52.718784"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.8ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Dongfeng Fengshen"], ["sample", "Mustang"], ["license_plate", "LQN-1165"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:27:52.729460"], ["updated_at", "2022-11-07 21:27:52.729460"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.4ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Alpine"], ["sample", "Focus"], ["license_plate", "LHB-7943"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:27:52.737105"], ["updated_at", "2022-11-07 21:27:52.737105"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (65.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (44.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (165.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (168.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:28:37.619844', '2022-11-07 21:28:37.619856') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (8.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (9.1ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Rod"], ["last_name", "Feest"], ["document", "190945938"], ["shipping_company", "Glover and Sons"], ["created_at", "2022-11-07 21:28:38.137403"], ["updated_at", "2022-11-07 21:28:38.137403"], ["full_name", "Rod Feest"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (3.9ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Ivelisse"], ["last_name", "Leuschke"], ["document", "571680180"], ["shipping_company", "Stiedemann-Rau"], ["created_at", "2022-11-07 21:28:38.148693"], ["updated_at", "2022-11-07 21:28:38.148693"], ["full_name", "Ivelisse Leuschke"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (3.0ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Aurelio"], ["last_name", "Gulgowski"], ["document", "596443807"], ["shipping_company", "Heathcote-Robel"], ["created_at", "2022-11-07 21:28:38.163380"], ["updated_at", "2022-11-07 21:28:38.163380"], ["full_name", "Aurelio Gulgowski"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (2.0ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Clay"], ["last_name", "Okuneva"], ["document", "222395034"], ["shipping_company", "Tromp and Sons"], ["created_at", "2022-11-07 21:28:38.175073"], ["updated_at", "2022-11-07 21:28:38.175073"], ["full_name", "Clay Okuneva"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.3ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Blondell"], ["last_name", "Kulas"], ["document", "956581141"], ["shipping_company", "Glover-Schinner"], ["created_at", "2022-11-07 21:28:38.182916"], ["updated_at", "2022-11-07 21:28:38.182916"], ["full_name", "Blondell Kulas"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.8ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Uniti"], ["sample", "F150"], ["license_plate", "ZMH-6864"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:28:38.206107"], ["updated_at", "2022-11-07 21:28:38.206107"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.2ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Hino Motors"], ["sample", "X5"], ["license_plate", "UUL-5026"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:28:38.213692"], ["updated_at", "2022-11-07 21:28:38.213692"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (2.9ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Smart"], ["sample", "Odyssey"], ["license_plate", "IVE-4428"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:28:38.223367"], ["updated_at", "2022-11-07 21:28:38.223367"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.8ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Alpine"], ["sample", "Malibu"], ["license_plate", "LQV-2633"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:28:38.233801"], ["updated_at", "2022-11-07 21:28:38.233801"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.6ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Suzuki"], ["sample", "Challenger"], ["license_plate", "JWW-7140"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:28:38.242086"], ["updated_at", "2022-11-07 21:28:38.242086"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.9ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Ryan-Hegmann"], ["status", "active"], ["created_at", "2022-11-07 21:28:38.265322"], ["updated_at", "2022-11-07 21:28:38.265322"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.8ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Kuhic, Thiel and Waters"], ["status", "active"], ["created_at", "2022-11-07 21:28:38.273210"], ["updated_at", "2022-11-07 21:28:38.273210"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (5.0ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Hirthe, Wunsch and Crona"], ["status", "active"], ["created_at", "2022-11-07 21:28:38.283686"], ["updated_at", "2022-11-07 21:28:38.283686"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (2.5ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Rosenbaum-Huels"], ["status", "active"], ["created_at", "2022-11-07 21:28:38.298819"], ["updated_at", "2022-11-07 21:28:38.298819"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (2.0ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Reilly Group"], ["status", "active"], ["created_at", "2022-11-07 21:28:38.308310"], ["updated_at", "2022-11-07 21:28:38.308310"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/v1/drivers" for ::1 at 2022-11-07 18:28:49 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DriversController#index as */*
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."first_name", "drivers"."last_name", "drivers"."document", "drivers"."shipping_company" FROM "drivers" ORDER BY "drivers"."first_name" ASC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:17:in `index'
Completed 200 OK in 79ms (Views: 23.7ms | ActiveRecord: 7.0ms | Allocations: 42778)


Started GET "/api/v1/vehicles" for ::1 at 2022-11-07 18:29:00 -0300
Processing by Api::V1::VehiclesController#index as */*
  [1m[36mVehicle Load (0.6ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" ORDER BY "vehicles"."manufacturer" ASC[0m
  ↳ app/controllers/api/v1/vehicles_controller.rb:16:in `index'
Completed 200 OK in 29ms (Views: 16.8ms | ActiveRecord: 3.8ms | Allocations: 19610)


Started GET "/api/v1/customers" for ::1 at 2022-11-07 18:29:14 -0300
Processing by Api::V1::CustomersController#index as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers"[0m
  ↳ app/controllers/api/v1/customers_controller.rb:9:in `index'
Completed 200 OK in 133ms (Views: 82.1ms | ActiveRecord: 3.4ms | Allocations: 16721)


Started GET "/api/v1/shipments" for ::1 at 2022-11-07 18:29:30 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (1.2ms)[0m  [1m[34mSELECT "shipments"."id", "shipments"."customer_id", "shipments"."invoice_number", "shipments"."cargo_checker", "shipments"."dock", "shipments"."kind", "shipments"."warehouse", "shipments"."driver_id", "shipments"."vehicle_id", "shipments"."internship" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
Completed 200 OK in 30ms (Views: 7.2ms | ActiveRecord: 3.7ms | Allocations: 8852)


Started POST "/api/v1/shipments" for ::1 at 2022-11-07 18:29:39 -0300
Processing by Api::V1::ShipmentsController#create as */*
  Parameters: {"customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech", "driver_id"=>1, "vehicle_id"=>1, "shipment"=>{"driver_id"=>1, "vehicle_id"=>1, "customer_id"=>1, "invoice_number"=>654321, "cargo_checker"=>"Bla da Silva", "dock"=>"12", "kind"=>"delivery", "warehouse"=>"high-tech"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mShipment Create (1.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "654321"], ["cargo_checker", "Bla da Silva"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:29:39.460381"], ["updated_at", "2022-11-07 21:29:39.460381"]]
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:33:in `create'
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:35:in `create'
Completed 201 Created in 62ms (Views: 8.5ms | ActiveRecord: 12.2ms | Allocations: 28608)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (56.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (62.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (159.8ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (165.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (18.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:33:54.053918', '2022-11-07 21:33:54.053929') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (10.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (7.3ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.6ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Charles"], ["last_name", "Boyle"], ["document", "539020801"], ["shipping_company", "Corwin Inc"], ["created_at", "2022-11-07 21:33:54.571880"], ["updated_at", "2022-11-07 21:33:54.571880"], ["full_name", "Charles Boyle"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Claudia"], ["last_name", "Sanford"], ["document", "793294371"], ["shipping_company", "Hamill LLC"], ["created_at", "2022-11-07 21:33:54.580070"], ["updated_at", "2022-11-07 21:33:54.580070"], ["full_name", "Claudia Sanford"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (2.3ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Garfield"], ["last_name", "Luettgen"], ["document", "687281901"], ["shipping_company", "Hilpert, Luettgen and Murphy"], ["created_at", "2022-11-07 21:33:54.588949"], ["updated_at", "2022-11-07 21:33:54.588949"], ["full_name", "Garfield Luettgen"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (2.0ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Royce"], ["last_name", "Littel"], ["document", "673621239"], ["shipping_company", "Leuschke-Mills"], ["created_at", "2022-11-07 21:33:54.599003"], ["updated_at", "2022-11-07 21:33:54.599003"], ["full_name", "Royce Littel"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (2.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Jude"], ["last_name", "Ankunding"], ["document", "167898832"], ["shipping_company", "Buckridge-Bode"], ["created_at", "2022-11-07 21:33:54.608934"], ["updated_at", "2022-11-07 21:33:54.608934"], ["full_name", "Jude Ankunding"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.9ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Bugatti"], ["sample", "328i"], ["license_plate", "SSI-5054"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:33:54.638111"], ["updated_at", "2022-11-07 21:33:54.638111"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.6ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Rimac"], ["sample", "S5"], ["license_plate", "IET-7099"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:33:54.646058"], ["updated_at", "2022-11-07 21:33:54.646058"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.6ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "BYD"], ["sample", "Odyssey"], ["license_plate", "FNH-6971"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:33:54.653605"], ["updated_at", "2022-11-07 21:33:54.653605"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (2.0ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Jaguar"], ["sample", "Fiesta"], ["license_plate", "WGO-7919"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:33:54.661390"], ["updated_at", "2022-11-07 21:33:54.661390"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.7ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Lancia"], ["sample", "Camero"], ["license_plate", "RNI-1850"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:33:54.669481"], ["updated_at", "2022-11-07 21:33:54.669481"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.8ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Jaskolski-Schmeler"], ["status", "active"], ["created_at", "2022-11-07 21:33:54.693555"], ["updated_at", "2022-11-07 21:33:54.693555"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (2.3ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Emmerich, Huels and Stehr"], ["status", "active"], ["created_at", "2022-11-07 21:33:54.701294"], ["updated_at", "2022-11-07 21:33:54.701294"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.6ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Schroeder-Wehner"], ["status", "active"], ["created_at", "2022-11-07 21:33:54.709380"], ["updated_at", "2022-11-07 21:33:54.709380"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.6ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Kovacek-Kuhic"], ["status", "active"], ["created_at", "2022-11-07 21:33:54.717251"], ["updated_at", "2022-11-07 21:33:54.717251"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.6ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "O'Connell-Kassulke"], ["status", "active"], ["created_at", "2022-11-07 21:33:54.724669"], ["updated_at", "2022-11-07 21:33:54.724669"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mShipment Create (1.0ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "221825954"], ["cargo_checker", "Gertha Stark"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:33:54.780228"], ["updated_at", "2022-11-07 21:33:54.780228"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (3.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mShipment Create (0.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 2], ["invoice_number", "10140868738012649208"], ["cargo_checker", "Sen. Brittaney Armstrong"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:33:54.802821"], ["updated_at", "2022-11-07 21:33:54.802821"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 3], ["invoice_number", "300268425132685533"], ["cargo_checker", "Rep. Howard Zboncak"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:33:54.816954"], ["updated_at", "2022-11-07 21:33:54.816954"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mShipment Create (0.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 4], ["invoice_number", "79552"], ["cargo_checker", "Mrs. Gordon Ziemann"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:33:54.831600"], ["updated_at", "2022-11-07 21:33:54.831600"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 5], ["invoice_number", "351765500441412"], ["cargo_checker", "Su Monahan"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:33:54.846385"], ["updated_at", "2022-11-07 21:33:54.846385"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 18:34:05 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (0.8ms)[0m  [1m[34mSELECT "shipments"."id", "shipments"."customer_id", "shipments"."invoice_number", "shipments"."cargo_checker", "shipments"."dock", "shipments"."kind", "shipments"."warehouse", "shipments"."driver_id", "shipments"."vehicle_id", "shipments"."internship" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mDriver Load (0.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mVehicle Load (0.4ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2, $3, $4, $5)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
Completed 200 OK in 267ms (Views: 188.6ms | ActiveRecord: 18.7ms | Allocations: 108687)


Started GET "/api/v1/shipments/1" for ::1 at 2022-11-07 18:34:46 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.3ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:51:in `set_shipment'
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mVehicle Load (2.3ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
Completed 200 OK in 49ms (Views: 12.4ms | ActiveRecord: 3.0ms | Allocations: 4821)


Started DELETE "/api/v1/shipments/1" for ::1 at 2022-11-07 18:37:29 -0300
Processing by Api::V1::ShipmentsController#destroy as */*
  Parameters: {"id"=>"1"}
  [1m[36mShipment Load (0.6ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:51:in `set_shipment'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:45:in `destroy'
  [1m[36mShipment Destroy (6.6ms)[0m  [1m[31mDELETE FROM "shipments" WHERE "shipments"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:45:in `destroy'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:45:in `destroy'
Completed 204 No Content in 23ms (ActiveRecord: 10.5ms | Allocations: 2256)


  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mShipment Load (0.5ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" ORDER BY "shipments"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mShipment Load (1.4ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" ORDER BY "shipments"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mShipment Load (2.0ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" ORDER BY "shipments"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mShipment Load (0.9ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."internship" = $1[0m  [["internship", "processing"]]
Started GET "/api/v1/shipments/2" for ::1 at 2022-11-07 18:40:15 -0300
Processing by Api::V1::ShipmentsController#show as */*
  Parameters: {"internship"=>"finished", "id"=>"2", "shipment"=>{"internship"=>"finished"}}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:51:in `set_shipment'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mDriver Load (0.2ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."shipping_company" FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles"."id", "vehicles"."manufacturer", "vehicles"."sample", "vehicles"."license_plate", "vehicles"."bodywork" FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:28:in `show'
Completed 200 OK in 8ms (Views: 5.1ms | ActiveRecord: 1.0ms | Allocations: 2878)


Started PUT "/api/v1/shipments/2" for ::1 at 2022-11-07 18:40:26 -0300
Processing by Api::V1::ShipmentsController#update as */*
  Parameters: {"internship"=>"finished", "id"=>"2", "shipment"=>{"internship"=>"finished"}}
  [1m[36mShipment Load (6.7ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:51:in `set_shipment'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
  [1m[36mDriver Load (5.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
  [1m[36mShipment Update (1.9ms)[0m  [1m[33mUPDATE "shipments" SET "internship" = $1, "updated_at" = $2 WHERE "shipments"."id" = $3[0m  [["internship", "finished"], ["updated_at", "2022-11-07 21:40:26.664084"], ["id", 2]]
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
Completed 200 OK in 93ms (Views: 0.4ms | ActiveRecord: 19.5ms | Allocations: 8563)


  [1m[36mShipment Load (1.4ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."internship" = $1[0m  [["internship", "finished"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5014.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (63.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (69.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (171.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (176.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 21:43:36.992854', '2022-11-07 21:43:36.992863') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (13.1ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.6ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Jerica"], ["last_name", "Heathcote"], ["document", "986881024"], ["shipping_company", "Schmitt Inc"], ["created_at", "2022-11-07 21:43:37.478774"], ["updated_at", "2022-11-07 21:43:37.478774"], ["full_name", "Jerica Heathcote"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.2ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Jeanene"], ["last_name", "Pouros"], ["document", "338171431"], ["shipping_company", "Schuster-Hermann"], ["created_at", "2022-11-07 21:43:37.486859"], ["updated_at", "2022-11-07 21:43:37.486859"], ["full_name", "Jeanene Pouros"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.6ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Wenona"], ["last_name", "Rippin"], ["document", "192857502"], ["shipping_company", "Bernhard Group"], ["created_at", "2022-11-07 21:43:37.493864"], ["updated_at", "2022-11-07 21:43:37.493864"], ["full_name", "Wenona Rippin"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Lonna"], ["last_name", "Streich"], ["document", "428999443"], ["shipping_company", "Denesik Group"], ["created_at", "2022-11-07 21:43:37.501224"], ["updated_at", "2022-11-07 21:43:37.501224"], ["full_name", "Lonna Streich"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.3ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Cyrus"], ["last_name", "Wiza"], ["document", "903426171"], ["shipping_company", "Schaden-Schaefer"], ["created_at", "2022-11-07 21:43:37.508771"], ["updated_at", "2022-11-07 21:43:37.508771"], ["full_name", "Cyrus Wiza"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.8ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Luxgen"], ["sample", "Navigator"], ["license_plate", "TLM-5945"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:43:37.534727"], ["updated_at", "2022-11-07 21:43:37.534727"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.4ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "DS"], ["sample", "Accord"], ["license_plate", "VHZ-4618"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:43:37.542208"], ["updated_at", "2022-11-07 21:43:37.542208"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (3.9ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Subaru"], ["sample", "A8"], ["license_plate", "KNK-2402"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:43:37.553715"], ["updated_at", "2022-11-07 21:43:37.553715"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (2.1ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Ford"], ["sample", "X1"], ["license_plate", "STG-5010"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:43:37.567325"], ["updated_at", "2022-11-07 21:43:37.567325"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.6ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Volkswagen"], ["sample", "Camero"], ["license_plate", "WWU-7003"], ["bodywork", "truck"], ["created_at", "2022-11-07 21:43:37.576274"], ["updated_at", "2022-11-07 21:43:37.576274"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.7ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Mayert, Hettinger and Anderson"], ["status", "active"], ["created_at", "2022-11-07 21:43:37.598722"], ["updated_at", "2022-11-07 21:43:37.598722"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.3ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Cassin and Sons"], ["status", "active"], ["created_at", "2022-11-07 21:43:37.605716"], ["updated_at", "2022-11-07 21:43:37.605716"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (2.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Lemke-Emmerich"], ["status", "active"], ["created_at", "2022-11-07 21:43:37.612508"], ["updated_at", "2022-11-07 21:43:37.612508"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Kertzmann-Bogan"], ["status", "active"], ["created_at", "2022-11-07 21:43:37.621031"], ["updated_at", "2022-11-07 21:43:37.621031"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.5ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Mayert, Treutel and Bode"], ["status", "active"], ["created_at", "2022-11-07 21:43:37.627786"], ["updated_at", "2022-11-07 21:43:37.627786"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mShipment Create (1.2ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "622190722028971457"], ["cargo_checker", "Everette Hamill"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:43:37.676350"], ["updated_at", "2022-11-07 21:43:37.676350"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (4.0ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mShipment Create (0.7ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 2], ["invoice_number", "7059740"], ["cargo_checker", "Aron Johns"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:43:37.703095"], ["updated_at", "2022-11-07 21:43:37.703095"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 3], ["invoice_number", "244453489808281495"], ["cargo_checker", "Brett Hoeger Esq."], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:43:37.718332"], ["updated_at", "2022-11-07 21:43:37.718332"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 4], ["invoice_number", "81474307964465"], ["cargo_checker", "Sherryl Marquardt JD"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:43:37.731293"], ["updated_at", "2022-11-07 21:43:37.731293"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mShipment Create (0.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 5], ["invoice_number", "924553125"], ["cargo_checker", "Fr. Katherin Ward"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 21:43:37.745047"], ["updated_at", "2022-11-07 21:43:37.745047"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mVehicle Load (1.9ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/api/v1/shipments" for ::1 at 2022-11-07 19:05:25 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (0.9ms)[0m  [1m[34mSELECT "shipments"."id", "shipments"."customer_id", "shipments"."invoice_number", "shipments"."cargo_checker", "shipments"."dock", "shipments"."kind", "shipments"."warehouse", "shipments"."driver_id", "shipments"."vehicle_id", "shipments"."internship" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mDriver Load (0.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mVehicle Load (0.5ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2, $3, $4, $5)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
Completed 200 OK in 247ms (Views: 182.4ms | ActiveRecord: 21.0ms | Allocations: 108680)


  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (57.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (59.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (176.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (179.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (21.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (17.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-07 22:40:59.404267', '2022-11-07 22:40:59.404277') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (8.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (21.2ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.9ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Fausto"], ["last_name", "Pollich"], ["document", "303654390"], ["shipping_company", "Adams, Bins and Daugherty"], ["created_at", "2022-11-07 22:41:01.436694"], ["updated_at", "2022-11-07 22:41:01.436694"], ["full_name", "Fausto Pollich"]]
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (2.8ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Bradley"], ["last_name", "King"], ["document", "988737560"], ["shipping_company", "Monahan-Padberg"], ["created_at", "2022-11-07 22:41:01.449271"], ["updated_at", "2022-11-07 22:41:01.449271"], ["full_name", "Bradley King"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.8ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Norman"], ["last_name", "Wintheiser"], ["document", "432355890"], ["shipping_company", "Bednar-Hintz"], ["created_at", "2022-11-07 22:41:01.459621"], ["updated_at", "2022-11-07 22:41:01.459621"], ["full_name", "Norman Wintheiser"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Horacio"], ["last_name", "Hermiston"], ["document", "706805105"], ["shipping_company", "Lubowitz-Zieme"], ["created_at", "2022-11-07 22:41:01.467839"], ["updated_at", "2022-11-07 22:41:01.467839"], ["full_name", "Horacio Hermiston"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.3ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Harold"], ["last_name", "Bins"], ["document", "253674894"], ["shipping_company", "Pfeffer-Johns"], ["created_at", "2022-11-07 22:41:01.474684"], ["updated_at", "2022-11-07 22:41:01.474684"], ["full_name", "Harold Bins"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.5ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "NEVS"], ["sample", "CR-V"], ["license_plate", "ZFU-6762"], ["bodywork", "truck"], ["created_at", "2022-11-07 22:41:01.506141"], ["updated_at", "2022-11-07 22:41:01.506141"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.4ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Smart"], ["sample", "Prius"], ["license_plate", "UJE-9198"], ["bodywork", "truck"], ["created_at", "2022-11-07 22:41:01.513199"], ["updated_at", "2022-11-07 22:41:01.513199"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.6ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Lamborghini"], ["sample", "Focus"], ["license_plate", "OUQ-1195"], ["bodywork", "truck"], ["created_at", "2022-11-07 22:41:01.520209"], ["updated_at", "2022-11-07 22:41:01.520209"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.9ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Luxgen"], ["sample", "Civic"], ["license_plate", "BUJ-6191"], ["bodywork", "truck"], ["created_at", "2022-11-07 22:41:01.527240"], ["updated_at", "2022-11-07 22:41:01.527240"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.5ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Mastretta"], ["sample", "A8"], ["license_plate", "JIP-2152"], ["bodywork", "truck"], ["created_at", "2022-11-07 22:41:01.534145"], ["updated_at", "2022-11-07 22:41:01.534145"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.5ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Cartwright LLC"], ["status", "active"], ["created_at", "2022-11-07 22:41:01.562273"], ["updated_at", "2022-11-07 22:41:01.562273"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.2ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Swift-Oberbrunner"], ["status", "active"], ["created_at", "2022-11-07 22:41:01.569005"], ["updated_at", "2022-11-07 22:41:01.569005"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Russel Group"], ["status", "active"], ["created_at", "2022-11-07 22:41:01.574857"], ["updated_at", "2022-11-07 22:41:01.574857"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (3.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Kovacek, Wintheiser and Reinger"], ["status", "active"], ["created_at", "2022-11-07 22:41:01.584699"], ["updated_at", "2022-11-07 22:41:01.584699"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.9ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Simonis-Bednar"], ["status", "active"], ["created_at", "2022-11-07 22:41:01.595579"], ["updated_at", "2022-11-07 22:41:01.595579"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mShipment Create (1.3ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "7782415262"], ["cargo_checker", "Ralph Berge"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 22:41:01.645793"], ["updated_at", "2022-11-07 22:41:01.645793"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 2], ["invoice_number", "897776"], ["cargo_checker", "Hannelore Johnson"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 22:41:01.660186"], ["updated_at", "2022-11-07 22:41:01.660186"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mShipment Create (0.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 3], ["invoice_number", "17724264872"], ["cargo_checker", "Rory Gislason"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 22:41:01.674125"], ["updated_at", "2022-11-07 22:41:01.674125"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mShipment Create (0.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 4], ["invoice_number", "2523919536056"], ["cargo_checker", "Eugenia Ankunding"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 22:41:01.688766"], ["updated_at", "2022-11-07 22:41:01.688766"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mShipment Create (0.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 5], ["invoice_number", "68258409178"], ["cargo_checker", "Brent Becker"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2022-11-07 22:41:01.703592"], ["updated_at", "2022-11-07 22:41:01.703592"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/pgAdmin" for ::1 at 2022-11-07 19:52:46 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/pgAdmin"):
  
Started GET "/rails/info/routes?path=admin" for ::1 at 2022-11-07 19:52:52 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"admin"}
Completed 200 OK in 13ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 4060)


Started GET "/api/v1/shipments" for ::1 at 2022-11-08 19:41:06 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (2.8ms)[0m  [1m[34mSELECT "shipments"."id", "shipments"."customer_id", "shipments"."invoice_number", "shipments"."cargo_checker", "shipments"."dock", "shipments"."kind", "shipments"."warehouse", "shipments"."driver_id", "shipments"."vehicle_id", "shipments"."internship" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mVehicle Load (1.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2, $3, $4, $5)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
Completed 200 OK in 218ms (Views: 150.8ms | ActiveRecord: 23.7ms | Allocations: 108685)


Started PUT "/api/v1/shipments/2" for ::1 at 2022-11-08 19:41:49 -0300
Processing by Api::V1::ShipmentsController#update as */*
  Parameters: {"internship"=>"finished", "id"=>"2", "shipment"=>{"internship"=>"finished"}}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:51:in `set_shipment'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
  [1m[36mDriver Load (1.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
  [1m[36mShipment Update (1.2ms)[0m  [1m[33mUPDATE "shipments" SET "internship" = $1, "updated_at" = $2 WHERE "shipments"."id" = $3[0m  [["internship", "finished"], ["updated_at", "2022-11-08 22:41:49.936587"], ["id", 2]]
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:40:in `update'
Completed 200 OK in 29ms (Views: 0.5ms | ActiveRecord: 6.2ms | Allocations: 8988)


Started GET "/api/v1/shipments" for ::1 at 2022-11-08 19:41:56 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (2.1ms)[0m  [1m[34mSELECT "shipments"."id", "shipments"."customer_id", "shipments"."invoice_number", "shipments"."cargo_checker", "shipments"."dock", "shipments"."kind", "shipments"."warehouse", "shipments"."driver_id", "shipments"."vehicle_id", "shipments"."internship" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mDriver Load (1.7ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mVehicle Load (4.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2, $3, $4, $5)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
Completed 200 OK in 26ms (Views: 16.4ms | ActiveRecord: 8.9ms | Allocations: 4091)


Started DELETE "/api/v1/shipments/5" for ::1 at 2022-11-08 19:42:59 -0300
Processing by Api::V1::ShipmentsController#destroy as */*
  Parameters: {"id"=>"5"}
  [1m[36mShipment Load (0.4ms)[0m  [1m[34mSELECT "shipments".* FROM "shipments" WHERE "shipments"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:51:in `set_shipment'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:45:in `destroy'
  [1m[36mShipment Destroy (1.7ms)[0m  [1m[31mDELETE FROM "shipments" WHERE "shipments"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/api/v1/shipments_controller.rb:45:in `destroy'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:45:in `destroy'
Completed 204 No Content in 9ms (ActiveRecord: 4.7ms | Allocations: 2157)


Started GET "/api/v1/shipments" for ::1 at 2022-11-08 19:43:10 -0300
Processing by Api::V1::ShipmentsController#index as */*
  [1m[36mShipment Load (7.2ms)[0m  [1m[34mSELECT "shipments"."id", "shipments"."customer_id", "shipments"."invoice_number", "shipments"."cargo_checker", "shipments"."dock", "shipments"."kind", "shipments"."warehouse", "shipments"."driver_id", "shipments"."vehicle_id", "shipments"."internship" FROM "shipments" ORDER BY "shipments"."created_at" ASC[0m
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mVehicle Load (2.7ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
  [1m[36mCustomer Load (1.0ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" IN ($1, $2, $3, $4)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4]]
  ↳ app/controllers/api/v1/shipments_controller.rb:24:in `index'
Completed 200 OK in 33ms (Views: 21.3ms | ActiveRecord: 11.2ms | Allocations: 3923)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to DeviseCreateUsers (20221108233410)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (22.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221108233410') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/users" for ::1 at 2022-11-08 20:41:30 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/api/v1/users"):
  
Started GET "/api/v1/users" for ::1 at 2022-11-08 20:43:56 -0300
Processing by Api::V1::UsersController#index as */*
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms | Allocations: 202)


  
AbstractController::ActionNotFound (The show action could not be found for the :set_user callback on Api::V1::UsersController, but it is listed in its :only option):
  
rails (8a67a6d44457) actionpack/lib/abstract_controller/callbacks.rb:52:in `match?'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:424:in `block in make_lambda'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:180:in `block (2 levels) in halting_and_conditional'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:180:in `all?'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:180:in `block in halting_and_conditional'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:596:in `block in invoke_before'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:596:in `each'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:596:in `invoke_before'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:107:in `run_callbacks'
rails (8a67a6d44457) actionpack/lib/abstract_controller/callbacks.rb:248:in `process_action'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/rescue.rb:22:in `process_action'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
rails (8a67a6d44457) activesupport/lib/active_support/notifications.rb:206:in `block in instrument'
rails (8a67a6d44457) activesupport/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
rails (8a67a6d44457) activesupport/lib/active_support/notifications.rb:206:in `instrument'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/instrumentation.rb:66:in `process_action'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
rails (8a67a6d44457) activerecord/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
rails (8a67a6d44457) actionpack/lib/abstract_controller/base.rb:156:in `process'
rails (8a67a6d44457) actionpack/lib/action_controller/metal.rb:204:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_controller/metal.rb:267:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:32:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:50:in `block in serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:32:in `each'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:32:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:848:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
rails (8a67a6d44457) activerecord/lib/active_record/migration.rb:617:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:99:in `run_callbacks'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:37:in `call_app'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `block in tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:37:in `tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `tagged'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
rails (8a67a6d44457) activesupport/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:60:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rails (8a67a6d44457) railties/lib/rails/engine.rb:529:in `call'
puma (6.0.0) lib/puma/configuration.rb:268:in `call'
puma (6.0.0) lib/puma/request.rb:89:in `block in handle_request'
puma (6.0.0) lib/puma/thread_pool.rb:343:in `with_force_shutdown'
puma (6.0.0) lib/puma/request.rb:88:in `handle_request'
puma (6.0.0) lib/puma/server.rb:430:in `process_client'
puma (6.0.0) lib/puma/server.rb:233:in `block in run'
puma (6.0.0) lib/puma/thread_pool.rb:150:in `block in spawn_thread'
Started GET "/api/v1/users" for ::1 at 2022-11-08 20:44:05 -0300
Processing by Api::V1::UsersController#index as */*
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users"."first_name", "users"."last_name", "users"."email" FROM "users" ORDER BY "users"."created_at" ASC[0m
  ↳ app/controllers/api/v1/users_controller.rb:9:in `index'
Completed 200 OK in 21ms (Views: 1.3ms | ActiveRecord: 2.7ms | Allocations: 17251)


Started POST "/api/v1/users" for ::1 at 2022-11-08 20:48:10 -0300
Processing by Api::V1::UsersController#create as */*
  Parameters: {"query"=>"\n    query IntrospectionQuery {\n      __schema {\n        queryType { name }\n        mutationType { name }\n        subscriptionType { name }\n        types {\n          ...FullType\n        }\n        directives {\n          name\n          description\n          locations\n          args {\n            ...InputValue\n          }\n        }\n      }\n    }\n\n    fragment FullType on __Type {\n      kind\n      name\n      description\n      fields(includeDeprecated: true) {\n        name\n        description\n        args {\n          ...InputValue\n        }\n        type {\n          ...TypeRef\n        }\n        isDeprecated\n        deprecationReason\n      }\n      inputFields {\n        ...InputValue\n      }\n      interfaces {\n        ...TypeRef\n      }\n      enumValues(includeDeprecated: true) {\n        name\n        description\n        isDeprecated\n        deprecationReason\n      }\n      possibleTypes {\n        ...TypeRef\n      }\n    }\n\n    fragment InputValue on __InputValue {\n      name\n      description\n      type { ...TypeRef }\n      defaultValue\n    }\n\n    fragment TypeRef on __Type {\n      kind\n      name\n      ofType {\n        kind\n        name\n        ofType {\n          kind\n          name\n          ofType {\n            kind\n            name\n            ofType {\n              kind\n              name\n              ofType {\n                kind\n                name\n                ofType {\n                  kind\n                  name\n                  ofType {\n                    kind\n                    name\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ", "user"=>{}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 1.6ms | Allocations: 2476)


  
NameError (undefined local variable or method `user_params' for #<Api::V1::UsersController:0x000000000200a8>
Did you mean?  user_password_path):
  
app/controllers/api/v1/users_controller.rb:12:in `create'
Started POST "/api/v1/users" for ::1 at 2022-11-08 20:50:15 -0300
Processing by Api::V1::UsersController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"email"=>"bla@bla.com", "first_name"=>"Bla", "last_name"=>"da silva"}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2384)


  
NameError (undefined local variable or method `user_params' for #<Api::V1::UsersController:0x00000000020198>
Did you mean?  user_password_path):
  
app/controllers/api/v1/users_controller.rb:12:in `create'
Started POST "/api/v1/users" for ::1 at 2022-11-08 20:51:04 -0300
Processing by Api::V1::UsersController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"email"=>"bla@bla.com", "first_name"=>"Bla", "last_name"=>"da silva"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:13:in `create'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bla@bla.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/users_controller.rb:13:in `create'
Completed 422 Unprocessable Entity in 410ms (ActiveRecord: 5.3ms | Allocations: 361040)


  
ActiveRecord::RecordInvalid (Validation failed: Password can't be blank):
  
app/controllers/api/v1/users_controller.rb:13:in `create'
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bla@bla.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "bla@bla.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["first_name", "Bla"], ["last_name", "da Silva"], ["created_at", "2022-11-09 00:06:34.703606"], ["updated_at", "2022-11-09 00:06:34.703606"]]
  [1m[36mTRANSACTION (4.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/api/v1/users" for ::1 at 2022-11-08 21:07:01 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"email"=>"bla@bla.com", "first_name"=>"Bla", "last_name"=>"da silva"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/api/v1/users_controller.rb:13:in `create'
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bla@bla.com"], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/users_controller.rb:13:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/api/v1/users_controller.rb:13:in `create'
Completed 422 Unprocessable Entity in 288ms (ActiveRecord: 6.2ms | Allocations: 377814)


  
ActiveRecord::RecordInvalid (Validation failed: Email has already been taken, Password can't be blank):
  
app/controllers/api/v1/users_controller.rb:13:in `create'
Started POST "/api/v1/users" for ::1 at 2022-11-08 21:08:21 -0300
Processing by Api::V1::UsersController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"email"=>"bla@bla.com", "first_name"=>"Bla", "last_name"=>"da silva"}}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 4.0ms | Allocations: 4804)


  
NameError (undefined local variable or method `byebug' for #<Api::V1::UsersController:0x00000000013ba0>):
  
app/controllers/api/v1/users_controller.rb:13:in `create'
Started POST "/api/v1/users" for ::1 at 2022-11-08 21:08:39 -0300
Processing by Api::V1::UsersController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"email"=>"bla@bla.com", "first_name"=>"Bla", "last_name"=>"da silva"}}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 2.5ms | Allocations: 2384)


  
NameError (undefined local variable or method `byebug' for #<Api::V1::UsersController:0x0000000001a450>):
  
app/controllers/api/v1/users_controller.rb:12:in `create'
Started POST "/api/v1/users" for ::1 at 2022-11-08 21:11:34 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::UsersController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"email"=>"bla@bla.com", "first_name"=>"Bla", "last_name"=>"da silva"}}
Completed 500 Internal Server Error in 50179ms (ActiveRecord: 4.4ms | Allocations: 58876)


  
SystemExit (exit):
  
app/controllers/api/v1/users_controller.rb:13:in `create'
Started POST "/api/v1/users/sign_up" for ::1 at 2022-11-08 21:14:06 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users/sign_up"):
  
Started GET "/rails/info/routes" for ::1 at 2022-11-08 21:14:17 -0300
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb
  Rendering /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_route.html.erb [68 times] (Duration: 47.0ms | Allocations: 10405)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 11.5ms | Allocations: 1304)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 77.2ms | Allocations: 17292)
  Rendered layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb (Duration: 79.0ms | Allocations: 17640)
Completed 200 OK in 537ms (Views: 90.8ms | ActiveRecord: 0.0ms | Allocations: 361984)


Started GET "/favicon.ico" for ::1 at 2022-11-08 21:14:18 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/rails/info/routes?path=users" for ::1 at 2022-11-08 21:14:27 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"users"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3310)


Started GET "/rails/info/routes?path=users" for ::1 at 2022-11-08 21:14:27 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"users"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1435)


Started GET "/rails/info/routes" for ::1 at 2022-11-08 21:17:29 -0300
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb
  Rendering /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_route.html.erb [64 times] (Duration: 18.5ms | Allocations: 9703)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 1.1ms | Allocations: 949)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 27.3ms | Allocations: 15259)
  Rendered layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb (Duration: 28.0ms | Allocations: 15577)
Completed 200 OK in 33ms (Views: 31.7ms | ActiveRecord: 0.0ms | Allocations: 16777)


Started GET "/rails/info/routes?path=users" for ::1 at 2022-11-08 21:17:33 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"users"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3036)


Started GET "/rails/info/routes?path=s" for ::1 at 2022-11-08 21:17:37 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"s"}
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 2306)


Started GET "/rails/info/routes?path=sign" for ::1 at 2022-11-08 21:17:38 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1255)


Started GET "/rails/info/routes?path=sign_" for ::1 at 2022-11-08 21:17:40 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign_"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1110)


Started GET "/rails/info/routes?path=sign_u" for ::1 at 2022-11-08 21:17:41 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign_u"}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1048)


Started POST "/api/v1/sign_up" for ::1 at 2022-11-08 21:18:24 -0300
  
NoMethodError (undefined method `skip_before_filter' for Api::V1::RegistrationsController:Class
Did you mean?  skip_before_action):
  
app/controllers/api/v1/registrations_controller.rb:5:in `<class:RegistrationsController>'
app/controllers/api/v1/registrations_controller.rb:3:in `<module:V1>'
app/controllers/api/v1/registrations_controller.rb:2:in `<module:Api>'
app/controllers/api/v1/registrations_controller.rb:1:in `<main>'
Started POST "/api/v1/sign_up" for ::1 at 2022-11-08 21:18:39 -0300
Processing by Api::V1::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Filter chain halted as :ensure_params_exist rendered or redirected
Completed 400 Bad Request in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 489)


Started POST "/api/v1/sign_up" for ::1 at 2022-11-08 21:19:04 -0300
Processing by Api::V1::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Filter chain halted as :ensure_params_exist rendered or redirected
Completed 400 Bad Request in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 357)


Started POST "/api/v1/sign_up" for ::1 at 2022-11-08 21:19:49 -0300
Processing by Api::V1::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Filter chain halted as :ensure_params_exist rendered or redirected
Completed 400 Bad Request in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms | Allocations: 357)


Started POST "/api/v1/sign_up" for ::1 at 2022-11-08 21:20:11 -0300
Processing by Api::V1::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 386)


  
ActionController::ParameterMissing (param is missing or the value is empty: user):
  
app/controllers/api/v1/registrations_controller.rb:15:in `user_params'
app/controllers/api/v1/registrations_controller.rb:6:in `create'
Started POST "/api/v1/sign_up" for ::1 at 2022-11-08 21:20:39 -0300
Processing by Api::V1::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Filter chain halted as :ensure_params_exist rendered or redirected
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 358)


Started POST "/api/v1/sign_up" for ::1 at 2022-11-11 17:08:55 -0300
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Filter chain halted as :ensure_params_exist rendered or redirected
Completed 400 Bad Request in 3ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 581)


Started POST "/api/v1/sign_up" for ::1 at 2022-11-11 17:09:30 -0300
Processing by Api::V1::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Filter chain halted as :ensure_params_exist rendered or redirected
Completed 400 Bad Request in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 357)


Started POST "/api/v1/sign_up" for ::1 at 2022-11-11 17:09:38 -0300
Processing by Api::V1::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Filter chain halted as :ensure_params_exist rendered or redirected
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 208)


Started POST "/api/v1/sign_up" for ::1 at 2022-11-11 17:09:49 -0300
Processing by Api::V1::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Filter chain halted as :ensure_params_exist rendered or redirected
Completed 400 Bad Request in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 358)


Started GET "/rails/info/routes" for ::1 at 2022-11-11 17:18:54 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb
  Rendering /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_route.html.erb [62 times] (Duration: 19.6ms | Allocations: 9539)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 4.6ms | Allocations: 1304)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 32.1ms | Allocations: 16065)
  Rendered layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb (Duration: 33.1ms | Allocations: 16413)
Completed 200 OK in 455ms (Views: 39.1ms | ActiveRecord: 0.0ms | Allocations: 361626)


Started GET "/favicon.ico" for ::1 at 2022-11-11 17:18:54 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started POST "/api/v1/users/sign_up" for ::1 at 2022-11-11 17:19:11 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users/sign_up"):
  
Started GET "/rails/info/routes?path=si" for ::1 at 2022-11-11 17:19:24 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"si"}
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 2921)


Started GET "/rails/info/routes?path=sign" for ::1 at 2022-11-11 17:19:26 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1198)


Started GET "/rails/info/routes?path=signu" for ::1 at 2022-11-11 17:19:26 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"signu"}
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 993)


Started GET "/rails/info/routes?path=sign+" for ::1 at 2022-11-11 17:19:27 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign "}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1007)


Started GET "/rails/info/routes?path=sign+" for ::1 at 2022-11-11 17:19:27 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign "}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1000)


Started GET "/rails/info/routes?path=sign" for ::1 at 2022-11-11 17:19:28 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1197)


Started GET "/rails/info/routes?path=sign_" for ::1 at 2022-11-11 17:19:29 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign_"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1052)


Started GET "/rails/info/routes?path=sign_u" for ::1 at 2022-11-11 17:19:29 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign_u"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1007)


Started GET "/rails/info/routes" for ::1 at 2022-11-11 17:19:53 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb
  Rendering /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_route.html.erb [62 times] (Duration: 14.6ms | Allocations: 9531)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 3.1ms | Allocations: 1304)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 23.3ms | Allocations: 16119)
  Rendered layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb (Duration: 24.6ms | Allocations: 16467)
Completed 200 OK in 393ms (Views: 29.3ms | ActiveRecord: 0.0ms | Allocations: 361695)


Started POST "/api/v1/users/sign_up" for ::1 at 2022-11-11 17:20:02 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users/sign_up"):
  
Started POST "/api/v1/users/sign_up" for ::1 at 2022-11-11 17:20:35 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users/sign_up"):
  
Started GET "/rails/info/routes" for ::1 at 2022-11-11 17:23:35 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::InfoController#routes as HTML
  Rendering layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb
  Rendering /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_route.html.erb [62 times] (Duration: 23.1ms | Allocations: 9531)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/actionpack/lib/action_dispatch/middleware/templates/routes/_table.html.erb (Duration: 2.8ms | Allocations: 1304)
  Rendered /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/rails/info/routes.html.erb within layouts/application (Duration: 36.2ms | Allocations: 16119)
  Rendered layout /home/alexandre/.asdf/installs/ruby/3.0.0/lib/ruby/gems/3.0.0/bundler/gems/rails-8a67a6d44457/railties/lib/rails/templates/layouts/application.html.erb (Duration: 37.3ms | Allocations: 16467)
Completed 200 OK in 454ms (Views: 41.8ms | ActiveRecord: 0.0ms | Allocations: 361687)


Started GET "/rails/info/routes?path=s" for ::1 at 2022-11-11 17:23:38 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"s"}
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 4213)


Started GET "/rails/info/routes?path=sih" for ::1 at 2022-11-11 17:23:39 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sih"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1055)


Started GET "/rails/info/routes?path=sign" for ::1 at 2022-11-11 17:23:40 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1276)


Started GET "/rails/info/routes?path=sign_u" for ::1 at 2022-11-11 17:23:41 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign_u"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1074)


Started GET "/rails/info/routes?path=sign_u" for ::1 at 2022-11-11 17:23:41 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign_u"}
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1070)


Started GET "/rails/info/routes?path=sign_u%C2%B4" for ::1 at 2022-11-11 17:23:42 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign_u´"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1073)


Started GET "/rails/info/routes?path=sign_up" for ::1 at 2022-11-11 17:23:43 -0300
Processing by Rails::InfoController#routes as */*
  Parameters: {"path"=>"sign_up"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1072)


Started POST "/api/v1/users/sign_up" for ::1 at 2022-11-11 17:24:02 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users/sign_up"):
  
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (35.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (43.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (200.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (145.2ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-11 20:42:15.314169', '2022-11-11 20:42:15.314173') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20221108233410)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221108233410') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJwtDenylist (20221111203302)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "jwt_denylist" ("id" bigserial primary key, "jti" character varying NOT NULL, "exp" timestamp(6) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_jwt_denylist_on_jti" ON "jwt_denylist" ("jti")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221111203302') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/users/sign_up" for ::1 at 2022-11-11 18:03:25 -0300
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users/sign_up"):
  
Started POST "/api/v1/users" for ::1 at 2022-11-11 18:03:44 -0300
  
ActionController::RoutingError (uninitialized constant Users):
  
Started POST "/api/v1/users" for ::1 at 2022-11-11 18:08:35 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant Users):
  
Started POST "/api/v1/users" for ::1 at 2022-11-11 18:10:01 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::Users::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", ""], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["first_name", nil], ["last_name", nil], ["created_at", "2022-11-11 21:10:02.180038"], ["updated_at", "2022-11-11 21:10:02.180038"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 500 Internal Server Error in 75ms (ActiveRecord: 11.7ms | Allocations: 41353)


  
NameError (undefined local variable or method `current_user' for #<Api::V1::Users::RegistrationsController:0x0000000000cc60>
Did you mean?  current_api_v1_user):
  
app/controllers/api/v1/users/registrations_controller.rb:18:in `register_success'
app/controllers/api/v1/users/registrations_controller.rb:10:in `respond_with'
Started POST "/api/v1/users" for ::1 at 2022-11-11 18:10:39 -0300
Processing by Api::V1::Users::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", ""], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["first_name", nil], ["last_name", nil], ["created_at", "2022-11-11 21:10:39.705752"], ["updated_at", "2022-11-11 21:10:39.705752"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 22ms (ActiveRecord: 6.3ms | Allocations: 6401)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
):
  
Started POST "/api/v1/users" for ::1 at 2022-11-11 18:10:51 -0300
Processing by Api::V1::Users::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", ""], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["first_name", nil], ["last_name", nil], ["created_at", "2022-11-11 21:10:51.703937"], ["updated_at", "2022-11-11 21:10:51.703937"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 2.6ms | Allocations: 3159)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
):
  
Started POST "/api/v1/users" for ::1 at 2022-11-11 18:11:02 -0300
Processing by Api::V1::Users::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla22222@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla22222@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (7.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", ""], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["first_name", nil], ["last_name", nil], ["created_at", "2022-11-11 21:11:02.637541"], ["updated_at", "2022-11-11 21:11:02.637541"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 17ms (ActiveRecord: 8.0ms | Allocations: 3144)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_users_on_email"
DETAIL:  Key (email)=() already exists.
):
  
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (44.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (45.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (180.6ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (141.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (14.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-11 21:11:14.538636', '2022-11-11 21:11:14.538642') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (13.6ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.9ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20221108233410)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221108233410') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJwtDenylist (20221111203302)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "jwt_denylist" ("id" bigserial primary key, "jti" character varying NOT NULL, "exp" timestamp(6) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_jwt_denylist_on_jti" ON "jwt_denylist" ("jti")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221111203302') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/users" for ::1 at 2022-11-11 18:11:25 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::Users::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla22222@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla22222@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (5.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", ""], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["first_name", nil], ["last_name", nil], ["created_at", "2022-11-11 21:11:25.467984"], ["updated_at", "2022-11-11 21:11:25.467984"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 66ms (Views: 0.5ms | ActiveRecord: 14.3ms | Allocations: 38933)


Started POST "/api/v1/users" for ::1 at 2022-11-11 18:13:37 -0300
Processing by Api::V1::Users::RegistrationsController#create as */*
  Parameters: {"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla22222@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"first_name"=>"Bla", "last_name"=>"da silva", "email"=>"bla22222@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 393ms (ActiveRecord: 0.9ms | Allocations: 347045)


  
NameError (undefined local variable or method `flash' for #<Api::V1::Users::RegistrationsController:0x0000000000cdf0>):
  
devise (4.8.1) app/controllers/devise_controller.rb:159:in `set_flash_message'
devise (4.8.1) app/controllers/devise_controller.rb:115:in `require_no_authentication'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:401:in `block in make_lambda'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:181:in `block (2 levels) in halting_and_conditional'
rails (8a67a6d44457) actionpack/lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:182:in `block in halting_and_conditional'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:596:in `block in invoke_before'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:596:in `each'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:596:in `invoke_before'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:107:in `run_callbacks'
rails (8a67a6d44457) actionpack/lib/abstract_controller/callbacks.rb:248:in `process_action'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/rescue.rb:22:in `process_action'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
rails (8a67a6d44457) activesupport/lib/active_support/notifications.rb:206:in `block in instrument'
rails (8a67a6d44457) activesupport/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
rails (8a67a6d44457) activesupport/lib/active_support/notifications.rb:206:in `instrument'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/instrumentation.rb:66:in `process_action'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
rails (8a67a6d44457) activerecord/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
rails (8a67a6d44457) actionpack/lib/abstract_controller/base.rb:156:in `process'
rails (8a67a6d44457) actionpack/lib/action_controller/metal.rb:204:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_controller/metal.rb:267:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:32:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/mapper.rb:48:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:50:in `block in serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:32:in `each'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:32:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:848:in `call'
warden-jwt_auth (0.7.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.7.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (2.2.4) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.7.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.4) lib/rack/session/abstract/id.rb:260:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/cookies.rb:698:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
rails (8a67a6d44457) activerecord/lib/active_record/migration.rb:617:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:99:in `run_callbacks'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:37:in `call_app'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `block in tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:37:in `tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `tagged'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
rails (8a67a6d44457) activesupport/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:60:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
rails (8a67a6d44457) railties/lib/rails/engine.rb:529:in `call'
puma (6.0.0) lib/puma/configuration.rb:268:in `call'
puma (6.0.0) lib/puma/request.rb:89:in `block in handle_request'
puma (6.0.0) lib/puma/thread_pool.rb:343:in `with_force_shutdown'
puma (6.0.0) lib/puma/request.rb:88:in `handle_request'
puma (6.0.0) lib/puma/server.rb:430:in `process_client'
puma (6.0.0) lib/puma/server.rb:233:in `block in run'
puma (6.0.0) lib/puma/thread_pool.rb:150:in `block in spawn_thread'
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (45.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (92.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (149.0ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (153.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (17.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2022-11-11 21:14:34.923258', '2022-11-11 21:14:34.923262') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.2ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (13.5ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (4.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (14.8ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20221108233410)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221108233410') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJwtDenylist (20221111203302)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "jwt_denylist" ("id" bigserial primary key, "jti" character varying NOT NULL, "exp" timestamp(6) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_jwt_denylist_on_jti" ON "jwt_denylist" ("jti")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221111203302') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/v1/users" for ::1 at 2022-11-11 18:14:49 -0300
  [1m[36mActiveRecord::SchemaMigration Load (4.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
  
Started POST "/api/v1/users" for ::1 at 2022-11-11 18:15:03 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
  
Started POST "/api/v1/users" for ::1 at 2022-11-11 18:15:18 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
  
Started GET "/api/v1/drivers" for ::1 at 2023-03-15 19:28:16 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::DriversController#index as */*
  [1m[36mDriver Load (0.8ms)[0m  [1m[34mSELECT "drivers"."id", "drivers"."full_name", "drivers"."first_name", "drivers"."last_name", "drivers"."document", "drivers"."shipping_company" FROM "drivers" ORDER BY "drivers"."first_name" ASC[0m
  ↳ app/controllers/api/v1/drivers_controller.rb:17:in `index'
Completed 200 OK in 43ms (Views: 2.1ms | ActiveRecord: 9.3ms | Allocations: 20250)


Started GET "/api/v1/customers" for ::1 at 2023-03-15 19:28:32 -0300
Processing by Api::V1::CustomersController#index as */*
  [1m[36mCustomer Load (0.8ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers"[0m
  ↳ app/controllers/api/v1/customers_controller.rb:9:in `index'
Completed 200 OK in 23ms (Views: 4.7ms | ActiveRecord: 4.8ms | Allocations: 3351)


Started GET "/api/v1/customers/1" for ::1 at 2023-03-15 19:28:37 -0300
Processing by Api::V1::CustomersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:35:in `set_customer'
Completed 404 Not Found in 8ms (ActiveRecord: 3.5ms | Allocations: 1702)


  
ActiveRecord::RecordNotFound (Couldn't find Customer with 'id'=1):
  
app/controllers/api/v1/customers_controller.rb:35:in `set_customer'
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (38.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (44.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (195.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (138.3ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (15.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-03-15 22:28:58.113931', '2023-03-15 22:28:58.113935') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (6.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.4ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.2ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.1ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20221108233410)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "first_name" character varying, "last_name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221108233410') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateJwtDenylist (20221111203302)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "jwt_denylist" ("id" bigserial primary key, "jti" character varying NOT NULL, "exp" timestamp(6) NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE INDEX "index_jwt_denylist_on_jti" ON "jwt_denylist" ("jti")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221111203302') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/api/v1/customers/1" for ::1 at 2023-03-15 19:29:13 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CustomersController#show as */*
  Parameters: {"id"=>"1"}
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/v1/customers_controller.rb:35:in `set_customer'
Completed 404 Not Found in 20ms (ActiveRecord: 6.0ms | Allocations: 7387)


  
ActiveRecord::RecordNotFound (Couldn't find Customer with 'id'=1):
  
app/controllers/api/v1/customers_controller.rb:35:in `set_customer'
Started GET "/api/v1/customers" for ::1 at 2023-03-15 19:29:21 -0300
Processing by Api::V1::CustomersController#index as */*
  [1m[36mCustomer Load (0.5ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers"[0m
  ↳ app/controllers/api/v1/customers_controller.rb:9:in `index'
Completed 200 OK in 14ms (Views: 1.6ms | ActiveRecord: 0.5ms | Allocations: 14340)


  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (1.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "admin@portico.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["first_name", "Portico"], ["last_name", "Admin"], ["created_at", "2023-03-15 22:29:55.483046"], ["updated_at", "2023-03-15 22:29:55.483046"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Ivelisse"], ["last_name", "Dach"], ["document", "340936322"], ["shipping_company", "Beatty and Sons"], ["created_at", "2023-03-15 22:29:55.752884"], ["updated_at", "2023-03-15 22:29:55.752884"], ["full_name", "Ivelisse Dach"]]
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.3ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Allen"], ["last_name", "Heller"], ["document", "905427277"], ["shipping_company", "Ryan, Nader and Klein"], ["created_at", "2023-03-15 22:29:55.761265"], ["updated_at", "2023-03-15 22:29:55.761265"], ["full_name", "Allen Heller"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Sarah"], ["last_name", "Brakus"], ["document", "940587209"], ["shipping_company", "Hintz LLC"], ["created_at", "2023-03-15 22:29:55.768230"], ["updated_at", "2023-03-15 22:29:55.768230"], ["full_name", "Sarah Brakus"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Harrison"], ["last_name", "Osinski"], ["document", "196501237"], ["shipping_company", "Kulas Inc"], ["created_at", "2023-03-15 22:29:55.775379"], ["updated_at", "2023-03-15 22:29:55.775379"], ["full_name", "Harrison Osinski"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Toi"], ["last_name", "Mosciski"], ["document", "684673698"], ["shipping_company", "Ondricka and Sons"], ["created_at", "2023-03-15 22:29:55.782655"], ["updated_at", "2023-03-15 22:29:55.782655"], ["full_name", "Toi Mosciski"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.7ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Renault Samsung Motors"], ["sample", "A7"], ["license_plate", "UPG-7372"], ["bodywork", "truck"], ["created_at", "2023-03-15 22:29:55.808190"], ["updated_at", "2023-03-15 22:29:55.808190"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.3ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Aixam"], ["sample", "A4"], ["license_plate", "BJG-2549"], ["bodywork", "truck"], ["created_at", "2023-03-15 22:29:55.815568"], ["updated_at", "2023-03-15 22:29:55.815568"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.4ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Honda"], ["sample", "Ram"], ["license_plate", "WJV-7355"], ["bodywork", "truck"], ["created_at", "2023-03-15 22:29:55.821955"], ["updated_at", "2023-03-15 22:29:55.821955"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.5ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Lancia"], ["sample", "Prius"], ["license_plate", "PTT-4972"], ["bodywork", "truck"], ["created_at", "2023-03-15 22:29:55.828298"], ["updated_at", "2023-03-15 22:29:55.828298"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.5ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Karma"], ["sample", "Focus"], ["license_plate", "XLU-6505"], ["bodywork", "truck"], ["created_at", "2023-03-15 22:29:55.834819"], ["updated_at", "2023-03-15 22:29:55.834819"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.6ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Bergstrom-Reichert"], ["status", "active"], ["created_at", "2023-03-15 22:29:55.856943"], ["updated_at", "2023-03-15 22:29:55.856943"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Bergnaum, Schoen and Bins"], ["status", "active"], ["created_at", "2023-03-15 22:29:55.863673"], ["updated_at", "2023-03-15 22:29:55.863673"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.3ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Gleason, Paucek and Doyle"], ["status", "active"], ["created_at", "2023-03-15 22:29:55.869650"], ["updated_at", "2023-03-15 22:29:55.869650"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Quigley, Jones and Keeling"], ["status", "active"], ["created_at", "2023-03-15 22:29:55.875646"], ["updated_at", "2023-03-15 22:29:55.875646"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Heathcote-Krajcik"], ["status", "active"], ["created_at", "2023-03-15 22:29:55.882044"], ["updated_at", "2023-03-15 22:29:55.882044"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mShipment Create (1.1ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "58816"], ["cargo_checker", "Terra Torphy MD"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-03-15 22:29:55.934229"], ["updated_at", "2023-03-15 22:29:55.934229"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 2], ["invoice_number", "31078716677511877"], ["cargo_checker", "Bari Schultz"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-03-15 22:29:55.947278"], ["updated_at", "2023-03-15 22:29:55.947278"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 3], ["invoice_number", "89089"], ["cargo_checker", "Brent Pfeffer"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-03-15 22:29:55.959870"], ["updated_at", "2023-03-15 22:29:55.959870"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 4], ["invoice_number", "96166"], ["cargo_checker", "Zane Simonis"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-03-15 22:29:55.972915"], ["updated_at", "2023-03-15 22:29:55.972915"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mShipment Create (0.6ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 5], ["invoice_number", "1824602569030"], ["cargo_checker", "Huey Lockman"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-03-15 22:29:55.985884"], ["updated_at", "2023-03-15 22:29:55.985884"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/api/v1/customers" for ::1 at 2023-03-15 19:30:11 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::V1::CustomersController#index as */*
  [1m[36mCustomer Load (0.6ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers"[0m
  ↳ app/controllers/api/v1/customers_controller.rb:9:in `index'
Completed 200 OK in 42ms (Views: 14.1ms | ActiveRecord: 5.6ms | Allocations: 34678)


Started POST "/api/v1/users" for ::1 at 2023-03-15 19:30:24 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
  
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddDeviseToUsers (20230315224748)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (44.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (54.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (143.4ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (143.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-03-15 22:52:37.563660', '2023-03-15 22:52:37.563664') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20230315224748)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5011.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (5010.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (44.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (42.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (141.0ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (147.6ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (15.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-03-15 22:55:04.124145', '2023-03-15 22:55:04.124149') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20230315224748)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (52.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (46.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (141.0ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (142.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (14.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-03-15 22:57:37.948181', '2023-03-15 22:57:37.948184') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20230315224748)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (43.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (43.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (140.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (140.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (14.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-03-15 23:00:31.765991', '2023-03-15 23:00:31.765994') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (11.9ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.6ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddDeviseToUsers (20230315224748)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (47.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (43.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (138.7ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (147.5ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (54.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (16.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-03-15 23:05:36.559565', '2023-03-15 23:05:36.559568') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.6ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20230315230519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (13.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20230315230519') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@portico.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "admin@portico.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-03-15 23:05:37.080555"], ["updated_at", "2023-03-15 23:05:37.080555"]]
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Ferdinand"], ["last_name", "DuBuque"], ["document", "658642693"], ["shipping_company", "Fadel Group"], ["created_at", "2023-03-15 23:05:37.298118"], ["updated_at", "2023-03-15 23:05:37.298118"], ["full_name", "Ferdinand DuBuque"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Harris"], ["last_name", "Bashirian"], ["document", "158907441"], ["shipping_company", "Blanda-Lesch"], ["created_at", "2023-03-15 23:05:37.305417"], ["updated_at", "2023-03-15 23:05:37.305417"], ["full_name", "Harris Bashirian"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.7ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Talitha"], ["last_name", "Gibson"], ["document", "698256686"], ["shipping_company", "Terry, Rippin and Koelpin"], ["created_at", "2023-03-15 23:05:37.312937"], ["updated_at", "2023-03-15 23:05:37.312937"], ["full_name", "Talitha Gibson"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.4ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Rosalba"], ["last_name", "Jaskolski"], ["document", "538970242"], ["shipping_company", "Lebsack and Sons"], ["created_at", "2023-03-15 23:05:37.320343"], ["updated_at", "2023-03-15 23:05:37.320343"], ["full_name", "Rosalba Jaskolski"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Yasmine"], ["last_name", "Kovacek"], ["document", "679227354"], ["shipping_company", "Armstrong LLC"], ["created_at", "2023-03-15 23:05:37.326860"], ["updated_at", "2023-03-15 23:05:37.326860"], ["full_name", "Yasmine Kovacek"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.7ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "LTI"], ["sample", "MKS"], ["license_plate", "CJI-4161"], ["bodywork", "truck"], ["created_at", "2023-03-15 23:05:37.352162"], ["updated_at", "2023-03-15 23:05:37.352162"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.3ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Tata"], ["sample", "Encore"], ["license_plate", "YYU-5189"], ["bodywork", "truck"], ["created_at", "2023-03-15 23:05:37.359753"], ["updated_at", "2023-03-15 23:05:37.359753"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.4ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "DS"], ["sample", "X1"], ["license_plate", "OOU-5679"], ["bodywork", "truck"], ["created_at", "2023-03-15 23:05:37.366224"], ["updated_at", "2023-03-15 23:05:37.366224"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.4ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Alpine"], ["sample", "F150"], ["license_plate", "XZV-6845"], ["bodywork", "truck"], ["created_at", "2023-03-15 23:05:37.372588"], ["updated_at", "2023-03-15 23:05:37.372588"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.5ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Dongfeng"], ["sample", "Camero"], ["license_plate", "RJY-4437"], ["bodywork", "truck"], ["created_at", "2023-03-15 23:05:37.378852"], ["updated_at", "2023-03-15 23:05:37.378852"]]
  [1m[36mTRANSACTION (27.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (2.3ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Swift, Maggio and Breitenberg"], ["status", "active"], ["created_at", "2023-03-15 23:05:37.423305"], ["updated_at", "2023-03-15 23:05:37.423305"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.2ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "King-Hayes"], ["status", "active"], ["created_at", "2023-03-15 23:05:37.432424"], ["updated_at", "2023-03-15 23:05:37.432424"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.3ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "DuBuque, Simonis and Kassulke"], ["status", "active"], ["created_at", "2023-03-15 23:05:37.438759"], ["updated_at", "2023-03-15 23:05:37.438759"]]
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Cummings, Kozey and Leffler"], ["status", "active"], ["created_at", "2023-03-15 23:05:37.445608"], ["updated_at", "2023-03-15 23:05:37.445608"]]
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.3ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Schulist and Sons"], ["status", "active"], ["created_at", "2023-03-15 23:05:37.453560"], ["updated_at", "2023-03-15 23:05:37.453560"]]
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.2ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mShipment Create (1.0ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "0290689150"], ["cargo_checker", "Chester Ortiz"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-03-15 23:05:37.499769"], ["updated_at", "2023-03-15 23:05:37.499769"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 2], ["invoice_number", "6370396040165"], ["cargo_checker", "Gretta Hudson"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-03-15 23:05:37.513225"], ["updated_at", "2023-03-15 23:05:37.513225"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 3], ["invoice_number", "41940007737424"], ["cargo_checker", "Gilberto Von PhD"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-03-15 23:05:37.525982"], ["updated_at", "2023-03-15 23:05:37.525982"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 4], ["invoice_number", "91594131368835"], ["cargo_checker", "Evia Beatty"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-03-15 23:05:37.538871"], ["updated_at", "2023-03-15 23:05:37.538871"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 5], ["invoice_number", "360148295802"], ["cargo_checker", "Keneth Rice"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-03-15 23:05:37.552225"], ["updated_at", "2023-03-15 23:05:37.552225"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to AddJtiToUsers (20230316001759)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "jti" character varying NOT NULL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (42.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (42.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (145.1ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (140.8ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (14.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (13.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-03-16 00:20:15.409618', '2023-03-16 00:20:15.409622') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (11.0ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (12.7ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20230315230519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20230315230519') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddJtiToUsers (20230316001759)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ADD "jti" character varying NOT NULL[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20230316001759') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@portico.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "jti") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "admin@portico.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-03-16 00:20:26.964389"], ["updated_at", "2023-03-16 00:20:26.964389"], ["jti", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (651.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (424.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (139.8ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (192.8ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (15.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (12.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (2.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-03-16 00:21:36.883120', '2023-03-16 00:21:36.883124') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (3.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (10.5ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (10.9ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (0.8ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (11.7ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20230315230519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (7.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20230315230519') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddJtiToUsers (20230316001759)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ADD "jti" character varying NOT NULL[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20230316001759') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users" for ::1 at 2023-03-15 21:43:10 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "registration"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
Completed 422 Unprocessable Entity in 81ms (Views: 0.2ms | ActiveRecord: 9.9ms | Allocations: 34848)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/users" for ::1 at 2023-03-15 21:44:40 -0300
Processing by Users::RegistrationsController#create as */*
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 415)


Started POST "/api/v1/users" for ::1 at 2023-03-15 21:44:59 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/v1/users"):
  
Started POST "/users" for ::1 at 2023-03-15 21:45:08 -0300
Processing by Users::RegistrationsController#create as */*
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 401)


Started POST "/users" for ::1 at 2023-03-15 21:49:02 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"email"=>"test@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Completed 422 Unprocessable Entity in 53ms (Views: 0.2ms | ActiveRecord: 7.5ms | Allocations: 34633)


Started POST "/users" for ::1 at 2023-03-15 21:52:25 -0300
Processing by Users::RegistrationsController#create as */*
  Parameters: {"email"=>"test@test.com", "password"=>"[FILTERED]", "registration"=>{"email"=>"test@test.com", "password"=>"[FILTERED]"}}
Completed 200 OK in 214ms (Views: 0.2ms | ActiveRecord: 2.8ms | Allocations: 343269)


Started POST "/users" for ::1 at 2023-03-15 21:53:26 -0300
Processing by Users::RegistrationsController#create as */*
  Parameters: {"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1091)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for pp */ LIMIT $1[0m  [["LIMIT", 11]]
Started POST "/users" for ::1 at 2023-03-15 21:53:59 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Completed 200 OK in 251ms (Views: 0.3ms | ActiveRecord: 4.7ms | Allocations: 374249)


Started POST "/users" for ::1 at 2023-03-15 21:57:57 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Completed 200 OK in 244ms (Views: 0.3ms | ActiveRecord: 4.5ms | Allocations: 374227)


Started POST "/users" for ::1 at 2023-03-15 21:59:04 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Completed 200 OK in 240ms (Views: 0.2ms | ActiveRecord: 4.6ms | Allocations: 374192)


Started POST "/users" for ::1 at 2023-03-15 22:01:00 -0300
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::RegistrationsController#create as */*
  Parameters: {"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "registration"=>{"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Completed 200 OK in 250ms (Views: 0.3ms | ActiveRecord: 4.6ms | Allocations: 374230)


Started POST "/users" for ::1 at 2023-03-15 22:04:59 -0300
Error occurred while parsing request parameters.
Contents:

{
    user: {
        "email": "test2@bla.com",
        "password": "VerySecure@2022",
        "password_confirmation": "VerySecure@2022"
    }
}
Processing by Users::RegistrationsController#create as */*
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms | Allocations: 174)


  
ActionDispatch::Http::Parameters::ParseError (Error occurred while parsing request parameters):
  
rails (8a67a6d44457) actionpack/lib/action_dispatch/http/parameters.rb:96:in `rescue in parse_formatted_parameters'
rails (8a67a6d44457) actionpack/lib/action_dispatch/http/parameters.rb:92:in `parse_formatted_parameters'
rails (8a67a6d44457) actionpack/lib/action_dispatch/http/request.rb:402:in `block in POST'
rack (2.2.4) lib/rack/request.rb:69:in `fetch'
rack (2.2.4) lib/rack/request.rb:69:in `fetch_header'
rails (8a67a6d44457) actionpack/lib/action_dispatch/http/request.rb:401:in `POST'
rails (8a67a6d44457) actionpack/lib/action_dispatch/http/parameters.rb:55:in `parameters'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/strong_parameters.rb:1258:in `params'
devise (4.9.0) lib/devise/controllers/helpers.rb:159:in `devise_parameter_sanitizer'
devise (4.9.0) app/controllers/devise/registrations_controller.rb:137:in `sign_up_params'
devise (4.9.0) app/controllers/devise/registrations_controller.rb:17:in `create'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
rails (8a67a6d44457) actionpack/lib/abstract_controller/base.rb:220:in `process_action'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/rendering.rb:53:in `process_action'
rails (8a67a6d44457) actionpack/lib/abstract_controller/callbacks.rb:249:in `block in process_action'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:108:in `run_callbacks'
rails (8a67a6d44457) actionpack/lib/abstract_controller/callbacks.rb:248:in `process_action'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/rescue.rb:22:in `process_action'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/instrumentation.rb:67:in `block in process_action'
rails (8a67a6d44457) activesupport/lib/active_support/notifications.rb:206:in `block in instrument'
rails (8a67a6d44457) activesupport/lib/active_support/notifications/instrumenter.rb:58:in `instrument'
rails (8a67a6d44457) activesupport/lib/active_support/notifications.rb:206:in `instrument'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/instrumentation.rb:66:in `process_action'
rails (8a67a6d44457) actionpack/lib/action_controller/metal/params_wrapper.rb:259:in `process_action'
rails (8a67a6d44457) activerecord/lib/active_record/railties/controller_runtime.rb:27:in `process_action'
rails (8a67a6d44457) actionpack/lib/abstract_controller/base.rb:156:in `process'
rails (8a67a6d44457) actionpack/lib/action_controller/metal.rb:204:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_controller/metal.rb:267:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:49:in `dispatch'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:32:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/mapper.rb:18:in `block in <class:Constraints>'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/mapper.rb:48:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:50:in `block in serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:32:in `each'
rails (8a67a6d44457) actionpack/lib/action_dispatch/journey/router.rb:32:in `serve'
rails (8a67a6d44457) actionpack/lib/action_dispatch/routing/route_set.rb:848:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/token_dispatcher.rb:20:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware/revocation_manager.rb:21:in `call'
rack (2.2.4) lib/rack/builder.rb:244:in `call'
warden-jwt_auth (0.8.0) lib/warden/jwt_auth/middleware.rb:22:in `call'
rack (2.2.4) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.4) lib/rack/session/abstract/id.rb:260:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/cookies.rb:698:in `call'
warden (1.2.9) lib/warden/manager.rb:36:in `block in call'
warden (1.2.9) lib/warden/manager.rb:34:in `catch'
warden (1.2.9) lib/warden/manager.rb:34:in `call'
rack (2.2.4) lib/rack/etag.rb:27:in `call'
rack (2.2.4) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.4) lib/rack/head.rb:12:in `call'
rails (8a67a6d44457) activerecord/lib/active_record/migration.rb:617:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/callbacks.rb:99:in `run_callbacks'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/callbacks.rb:26:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:37:in `call_app'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `block in call'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `block in tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:37:in `tagged'
rails (8a67a6d44457) activesupport/lib/active_support/tagged_logging.rb:99:in `tagged'
rails (8a67a6d44457) railties/lib/rails/rack/logger.rb:24:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/remote_ip.rb:92:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
rails (8a67a6d44457) activesupport/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/server_timing.rb:60:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/executor.rb:14:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
rails (8a67a6d44457) actionpack/lib/action_dispatch/middleware/host_authorization.rb:138:in `call'
rack-cors (1.1.1) lib/rack/cors.rb:100:in `call'
rails (8a67a6d44457) railties/lib/rails/engine.rb:529:in `call'
puma (6.0.0) lib/puma/configuration.rb:268:in `call'
puma (6.0.0) lib/puma/request.rb:89:in `block in handle_request'
puma (6.0.0) lib/puma/thread_pool.rb:343:in `with_force_shutdown'
puma (6.0.0) lib/puma/request.rb:88:in `handle_request'
puma (6.0.0) lib/puma/server.rb:430:in `process_client'
puma (6.0.0) lib/puma/server.rb:233:in `block in run'
puma (6.0.0) lib/puma/thread_pool.rb:150:in `block in spawn_thread'
Started POST "/users" for ::1 at 2023-03-15 22:05:18 -0300
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"test2@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (2.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test2@bla.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "jti") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "test2@bla.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-03-16 01:05:18.879050"], ["updated_at", "2023-03-16 01:05:18.879050"], ["jti", "0af98076-92ef-4c71-ab55-20130dfd1b57"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 301ms (Views: 0.3ms | ActiveRecord: 5.5ms | Allocations: 9782)


Started DELETE "/users/sign_out" for ::1 at 2023-03-15 22:07:37 -0300
Processing by Users::SessionsController#destroy as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/users/sessions_controller.rb:25:in `respond_to_on_destroy'
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 0.8ms | Allocations: 3689)


  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Update (3.4ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "afa6b57a-bc18-4353-b5a9-10a6d7642181"], ["id", 1]]
Started POST "/users" for ::1 at 2023-03-15 22:17:40 -0300
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"test@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"test@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (8.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test@bla.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "jti") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "test@bla.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-03-16 01:17:41.897016"], ["updated_at", "2023-03-16 01:17:41.897016"], ["jti", "c9d626fc-05b2-4954-a832-2a066860de66"]]
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 934ms (Views: 0.9ms | ActiveRecord: 27.3ms | Allocations: 7588)


Started DELETE "/users/sign_out" for ::1 at 2023-03-15 22:20:29 -0300
Processing by Users::SessionsController#destroy as */*
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/users/sessions_controller.rb:25:in `respond_to_on_destroy'
Completed 200 OK in 31ms (Views: 1.5ms | ActiveRecord: 3.4ms | Allocations: 2182)


  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Update (4.2ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "703bf9c4-ca40-4f4f-90ca-94d1842b1882"], ["id", 2]]
Started POST "/users" for ::1 at 2023-03-15 22:20:49 -0300
Processing by Users::RegistrationsController#create as */*
  Parameters: {"user"=>{"email"=>"test3@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "registration"=>{"user"=>{"email"=>"test3@bla.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (4.9ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "test3@bla.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "jti") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "test3@bla.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-03-16 01:20:50.163692"], ["updated_at", "2023-03-16 01:20:50.163692"], ["jti", "1a393251-6f9e-46ee-94ad-28e49bdd6a1d"]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 1041ms (Views: 1.3ms | ActiveRecord: 9.0ms | Allocations: 4581)


Started GET "/users/sign_in" for ::1 at 2023-03-15 22:22:49 -0300
Processing by Users::SessionsController#new as */*
  Parameters: {"user"=>{"email"=>"test3@bla.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test3@bla.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/users/sessions_controller.rb:13:in `respond_with'
Completed 200 OK in 903ms (Views: 1.3ms | ActiveRecord: 0.8ms | Allocations: 1352)


Started POST "/users/sign_in" for ::1 at 2023-03-15 22:27:09 -0300
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"test3@bla.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test3@bla.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Completed 200 OK in 49ms (Views: 1.2ms | ActiveRecord: 17.5ms | Allocations: 5011)


Started DELETE "/users/sign_out" for ::1 at 2023-03-15 22:27:48 -0300
Processing by Users::SessionsController#destroy as */*
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/users/sessions_controller.rb:25:in `respond_to_on_destroy'
Completed 200 OK in 18ms (Views: 0.5ms | ActiveRecord: 1.9ms | Allocations: 2322)


  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Update (3.9ms)[0m  [1m[33mUPDATE "users" SET "jti" = $1 WHERE "users"."id" = $2[0m  [["jti", "9ff8d91b-bbcd-4ca9-881d-d2f2daab701b"], ["id", 3]]
  [1m[36mActiveRecord::SchemaMigration Load (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (48.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_development"[0m
  [1m[35m (109.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "portico_admin_api_test"[0m
  [1m[35m (239.9ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_development" ENCODING = 'unicode'[0m
  [1m[35m (186.2ms)[0m  [1m[35mCREATE DATABASE "portico_admin_api_test" ENCODING = 'unicode'[0m
  [1m[35m (28.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (16.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (3.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2023-04-26 00:00:10.828419', '2023-04-26 00:00:10.828427') RETURNING "key"[0m
Migrating to CreateDrivers (20221104204922)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (15.9ms)[0m  [1m[35mCREATE TABLE "drivers" ("id" bigserial primary key, "first_name" character varying, "last_name" character varying, "document" character varying, "shipping_company" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104204922') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateVehicles (20221104232453)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (9.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'bodywork'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "bodywork" AS ENUM ('motorcycle', 'car', 'van', 'truck');
    END IF;
END
$$;
[0m
  [1m[35m (19.6ms)[0m  [1m[35mCREATE TABLE "vehicles" ("id" bigserial primary key, "manufacturer" character varying, "sample" character varying, "license_plate" character varying, "bodywork" bodywork NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221104232453') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateCustomers (20221105003100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (9.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'status'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "status" AS ENUM ('active', 'inactive');
    END IF;
END
$$;
[0m
  [1m[35m (14.1ms)[0m  [1m[35mCREATE TABLE "customers" ("id" bigserial primary key, "description" character varying, "status" status DEFAULT 'active' NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105003100') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateShipments (20221105005349)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (5.5ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'kind'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "kind" AS ENUM ('delivery', 'dispatch');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.3ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'warehouse'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "warehouse" AS ENUM ('high-tech', 'healthcare');
    END IF;
END
$$;
[0m
  [1m[35mSQL (1.6ms)[0m  [1m[35mDO $$
BEGIN
    IF NOT EXISTS (
      SELECT 1
      FROM pg_type t
      JOIN pg_namespace n ON t.typnamespace = n.oid
      WHERE t.typname = 'internship'
        AND n.nspname = ANY (current_schemas(false))
    ) THEN
        CREATE TYPE "internship" AS ENUM ('processing', 'finished');
    END IF;
END
$$;
[0m
  [1m[35m (18.1ms)[0m  [1m[35mCREATE TABLE "shipments" ("id" bigserial primary key, "driver_id" bigint NOT NULL, "vehicle_id" bigint NOT NULL, "customer_id" bigint NOT NULL, "invoice_number" character varying, "cargo_checker" character varying, "dock" character varying, "kind" kind NOT NULL, "warehouse" warehouse NOT NULL, "internship" internship NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5d2447a8f6"
FOREIGN KEY ("driver_id")
  REFERENCES "drivers" ("id")
, CONSTRAINT "fk_rails_0c808809f4"
FOREIGN KEY ("vehicle_id")
  REFERENCES "vehicles" ("id")
, CONSTRAINT "fk_rails_ee836b9b4c"
FOREIGN KEY ("customer_id")
  REFERENCES "customers" ("id")
)[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_driver_id" ON "shipments" ("driver_id")[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_vehicle_id" ON "shipments" ("vehicle_id")[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE INDEX "index_shipments_on_customer_id" ON "shipments" ("customer_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (4.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221105005349') RETURNING "version"[0m
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddFullNameToDrivers (20221107204816)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "drivers" ADD "full_name" character varying[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107204816') RETURNING "version"[0m
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateFullNameForDrivers (20221107205106)
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (4.4ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" ORDER BY "drivers"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20221107205106') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to DeviseCreateUsers (20230315230519)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (19.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20230315230519') RETURNING "version"[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[35mCOMMIT[0m
Migrating to AddJtiToUsers (20230316001759)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ADD "jti" character varying NOT NULL[0m
  [1m[35m (8.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_jti" ON "users" ("jti")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20230316001759') RETURNING "version"[0m
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(1745536688585882745)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (1.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@portico.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "jti") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "admin@portico.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-04-26 00:00:35.467732"], ["updated_at", "2023-04-26 00:00:35.467732"], ["jti", "dcf0f2a6-4ada-4113-b993-47cafaec722b"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.8ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Barbra"], ["last_name", "Oberbrunner"], ["document", "168024287"], ["shipping_company", "Glover-Langworth"], ["created_at", "2023-04-26 00:00:35.736793"], ["updated_at", "2023-04-26 00:00:35.736793"], ["full_name", "Barbra Oberbrunner"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Ruben"], ["last_name", "Boyer"], ["document", "665033770"], ["shipping_company", "Barton, Pagac and Johnson"], ["created_at", "2023-04-26 00:00:35.744574"], ["updated_at", "2023-04-26 00:00:35.744574"], ["full_name", "Ruben Boyer"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Rikki"], ["last_name", "Pagac"], ["document", "273468799"], ["shipping_company", "Wiegand-Adams"], ["created_at", "2023-04-26 00:00:35.751640"], ["updated_at", "2023-04-26 00:00:35.751640"], ["full_name", "Rikki Pagac"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Shizuko"], ["last_name", "Kozey"], ["document", "762972866"], ["shipping_company", "Gorczany, Homenick and Altenwerth"], ["created_at", "2023-04-26 00:00:35.758581"], ["updated_at", "2023-04-26 00:00:35.758581"], ["full_name", "Shizuko Kozey"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Create (1.5ms)[0m  [1m[32mINSERT INTO "drivers" ("first_name", "last_name", "document", "shipping_company", "created_at", "updated_at", "full_name") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["first_name", "Lizeth"], ["last_name", "Stroman"], ["document", "892918249"], ["shipping_company", "Skiles, Marquardt and McLaughlin"], ["created_at", "2023-04-26 00:00:35.765573"], ["updated_at", "2023-04-26 00:00:35.765573"], ["full_name", "Lizeth Stroman"]]
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.7ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "BYD"], ["sample", "F150"], ["license_plate", "ROI-1814"], ["bodywork", "truck"], ["created_at", "2023-04-26 00:00:35.790090"], ["updated_at", "2023-04-26 00:00:35.790090"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.3ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Alpine"], ["sample", "Mustang"], ["license_plate", "JQA-9155"], ["bodywork", "truck"], ["created_at", "2023-04-26 00:00:35.797318"], ["updated_at", "2023-04-26 00:00:35.797318"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.3ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "IVM"], ["sample", "Focus"], ["license_plate", "FYW-4328"], ["bodywork", "truck"], ["created_at", "2023-04-26 00:00:35.803662"], ["updated_at", "2023-04-26 00:00:35.803662"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.3ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Wuling"], ["sample", "M5"], ["license_plate", "COR-1006"], ["bodywork", "truck"], ["created_at", "2023-04-26 00:00:35.809932"], ["updated_at", "2023-04-26 00:00:35.809932"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mVehicle Create (1.3ms)[0m  [1m[32mINSERT INTO "vehicles" ("manufacturer", "sample", "license_plate", "bodywork", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["manufacturer", "Nissan"], ["sample", "Prius"], ["license_plate", "YIX-3380"], ["bodywork", "truck"], ["created_at", "2023-04-26 00:00:35.816584"], ["updated_at", "2023-04-26 00:00:35.816584"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.7ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Green and Sons"], ["status", "active"], ["created_at", "2023-04-26 00:00:35.838986"], ["updated_at", "2023-04-26 00:00:35.838986"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Moore, Nikolaus and Volkman"], ["status", "active"], ["created_at", "2023-04-26 00:00:35.845576"], ["updated_at", "2023-04-26 00:00:35.845576"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.3ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Gottlieb, Harber and Barton"], ["status", "active"], ["created_at", "2023-04-26 00:00:35.851827"], ["updated_at", "2023-04-26 00:00:35.851827"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.4ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Auer and Sons"], ["status", "active"], ["created_at", "2023-04-26 00:00:35.857751"], ["updated_at", "2023-04-26 00:00:35.857751"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCustomer Create (1.2ms)[0m  [1m[32mINSERT INTO "customers" ("description", "status", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["description", "Orn and Sons"], ["status", "active"], ["created_at", "2023-04-26 00:00:35.863822"], ["updated_at", "2023-04-26 00:00:35.863822"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (0.3ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mShipment Create (1.0ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 1], ["invoice_number", "87741626295416"], ["cargo_checker", "Dane Christiansen"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-04-26 00:00:35.914388"], ["updated_at", "2023-04-26 00:00:35.914388"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 2], ["invoice_number", "4358641861275"], ["cargo_checker", "Miss Shirley Koss"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-04-26 00:00:35.928044"], ["updated_at", "2023-04-26 00:00:35.928044"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 3], ["invoice_number", "0908404553112758"], ["cargo_checker", "Jonas Hansen"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-04-26 00:00:35.940906"], ["updated_at", "2023-04-26 00:00:35.940906"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.6ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 4], ["invoice_number", "282581732104142"], ["cargo_checker", "Kai Klocko"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-04-26 00:00:35.953901"], ["updated_at", "2023-04-26 00:00:35.953901"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mDriver Load (1.5ms)[0m  [1m[34mSELECT "drivers".* FROM "drivers" WHERE "drivers"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mVehicle Load (0.3ms)[0m  [1m[34mSELECT "vehicles".* FROM "vehicles" WHERE "vehicles"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCustomer Load (0.2ms)[0m  [1m[34mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mShipment Create (0.5ms)[0m  [1m[32mINSERT INTO "shipments" ("driver_id", "vehicle_id", "customer_id", "invoice_number", "cargo_checker", "dock", "kind", "warehouse", "internship", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11) RETURNING "id"[0m  [["driver_id", 1], ["vehicle_id", 1], ["customer_id", 5], ["invoice_number", "2749556140362"], ["cargo_checker", "Leonard Hettinger"], ["dock", "12"], ["kind", "delivery"], ["warehouse", "high-tech"], ["internship", "processing"], ["created_at", "2023-04-26 00:00:35.966598"], ["updated_at", "2023-04-26 00:00:35.966598"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
Started POST "/users/sign_in" for ::1 at 2023-04-25 21:01:40 -0300
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"test3@bla.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"test3@bla.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "test3@bla.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 41ms (ActiveRecord: 5.5ms | Allocations: 21450)


Started POST "/users/sign_in" for ::1 at 2023-04-25 21:02:07 -0300
Processing by Users::SessionsController#create as */*
  Parameters: {"user"=>{"email"=>"admin@portico.com", "password"=>"[FILTERED]"}, "session"=>{"user"=>{"email"=>"admin@portico.com", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (2.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@portico.com"], ["LIMIT", 1]]
Completed 200 OK in 317ms (Views: 0.5ms | ActiveRecord: 2.9ms | Allocations: 18818)


Started GET "/api/v1/customers" for ::1 at 2023-04-25 21:03:39 -0300
Processing by Api::V1::CustomersController#index as */*
  [1m[36mCustomer Load (0.4ms)[0m  [1m[34mSELECT "customers"."id", "customers"."description", "customers"."status" FROM "customers"[0m
  ↳ app/controllers/api/v1/customers_controller.rb:9:in `index'
Completed 200 OK in 19ms (Views: 11.1ms | ActiveRecord: 3.1ms | Allocations: 17242)


